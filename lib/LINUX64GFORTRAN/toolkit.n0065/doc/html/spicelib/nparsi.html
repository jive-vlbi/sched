
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>nparsi</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>nparsi</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      NPARSI ( Integer parsing of a character string)
 
      SUBROUTINE NPARSI (  STRING,  N, ERROR, PNTER)
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Parse a character string that represents a number and return
     the FORTRAN-truncated integer value.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
      ALPHANUMERIC
      CONVERSION
      PARSING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      CHARACTER*(*)    STRING
      INTEGER          N
      CHARACTER*(*)    ERROR
      INTEGER          PNTER
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  ---------------------------------------------------
     STRING     I   Character string representing a numeric value.
     N          O   Translated integer value of STRING.
     ERROR      O   Message indicating what errors have occurred.
     PNTER      O   Position in character string where an error
                    occurred.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     STRING     A character string that represents a numeric value.
                Commas and spaces may be used in this string for
                ease of reading and writing the number.  They
                are treated as insignificant but non-error-producing
                characters.

                For exponential representation and of the characters
                'E','D','e','d' may be used.

                The following are legitimate numeric expressions

                 +12.2 e-1
                 -3. 1415 9276
                 1e12
                 E10

                The program also recognizes the following  mnemonics
                '<a href="pi.html">PI</a>', 'pi', 'Pi', 'pI'
                '+<a href="pi.html">PI</a>', '+pi', '+Pi', '+pI'
                '-<a href="pi.html">PI</a>', '-pi', '-Pi', '-pI'
                and returns the value ( + OR - ) 3 as appropriate.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     N          Integer parsed value of input string  ( with
                the implied limits on precision).  If an error is
                encountered, N is not changed from whatever the
                input value was.  If the input string has a fractional
                part, the fractional part will be truncated.  Thus
                3.18 is interpreted as 3.  -4.98 is interpreted as -4.

     ERROR      This is a message indicating that the string could
                not be parsed due to ambiguous use of symbols or
                due to a string representing a number too large for
                VAX double precision or integer variables. If no
                error occurred, ERROR is blank.

                In particular, blank strings, or strings that do not
                contain either a digit or exponent character will
                be regarded as errors.

     PNTER      This indicates which character was being used when
                the error occurred. If no error occurred, PNTER is 0.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1) If the string is non-numeric, PNTER indicates the location in
        the string where the error occurred, and ERROR contains a
        descriptive error message.

     2) If the string is blank, ERROR is returned with a message
        indicating the problem and PNTER will have a non-zero value.

     3) If the string represents a number that is outside the range
        of representable integers, as defined by INTMIN() and INTMAX(),
        ERROR is returned with a message and PNTER is set to the value
        1, as the entire numeric string is at fault.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     Basically, all this routine does is pass the input string to
     <a href="nparsd.html">NPARSD</a> which does the parsing in double precision.  If nothing
     goes wrong in the double precision parsing of the number, the
     returned value is checked to determine whether or not it will fit
     into a VAX integer.  If it doesn't, an error message is returned.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Let   LINE = 'DELTA_T_A       =   32'

     The following code fragment parses the line and obtains the
     integer value.


        CALL <a href="nextwd.html">NEXTWD</a> ( LINE,  FIRST,  REST )
        CALL <a href="nextwd.html">NEXTWD</a> ( REST, SECOND,  REST )
        CALL <a href="nextwd.html">NEXTWD</a> ( REST,  THIRD,  REST )

        CALL <b>NPARSI</b> (  THIRD,  VALUE, ERROR, POINTR )
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     K.R. Gehringer  (JPL)
     H.A. Neilan     (JPL)
     W.L. Taber      (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 2.1.0, 29-APR-1996 (KRG)

        This subroutine was modified to return a non-zero value of
        PNTER when the value returned by <a href="nparsd.html">NPARSD</a> is not a representable 
        integer, as defined by INTMIN() and INTMAX(). The value 
        returned is one (1), since the entire input string was not 
        correct.

        The test for an error from <a href="nparsd.html">NPARSD</a> was also changed. It now
        uses the integer PNTER returned from <a href="nparsd.html">NPARSD</a> rather then the
        character string ERROR. This should pose no problems because
        PNTER is non-zero if and only if there was an error and an 
        error message was assigned to ERROR.

        Some extra, and unnecessary, assignments were deleted. The 
        assignments were:

           X = DBLE ( N )

           ERROR = ' '

        which converted the input argument into a double before
        calling <a href="nparsd.html">NPARSD</a> with X and initialized the error message
        to be blank. <a href="nparsd.html">NPARSD</a> sets the value for X, ERROR, and PNTER
        unless an error occurs, in which case X is not changed.
        So, it is not necessary to initialize ERROR, PNTER, or X.

        Finally, the values of INTMIN and INTMAX are only set on the 
        first call to the routine. They are now SAVEd.

    SPICELIB Version 2.0.0, 15-OCT-1992 (WLT)

        The abstract of this routine was modified to reflect what
        the routine actually does---truncate the value to an
        integer.

        In addition, a blank string is no longer considered to be
        valid input.

        Finally the instances of DFLOAT in the previous version were
        replaced by the standard intrinsic function DBLE and the
        function DINT was replaced by IDINT in one place to make types
        match up on both sides of an assignment.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (WLT)</PRE>
<h4>Link to routine NPARSI source file <a href='../../../src/spicelib/nparsi.f'>nparsi.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:40 2014</pre>

</body>
</html>

