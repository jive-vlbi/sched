
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>ckgr04</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>ckgr04</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      CKGR04 ( C-kernel, get record, type 04 )

      SUBROUTINE CKGR04 ( HANDLE, DESCR, RECNO, RECORD )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Given the handle and descriptor of a type 4 segment in 
     a CK file, return a specified pointing record from that 
     segment.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ck.html">CK</a>
     <a href="../req/daf.html">DAF</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     POINTING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
      IMPLICIT              NONE
      
      INCLUDE               'ckparam.inc'

      INTEGER               HANDLE
      DOUBLE PRECISION      DESCR   ( * )
      INTEGER               RECNO
      DOUBLE PRECISION      RECORD  ( * )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   The handle of the file containing the segment.
     DESCR      I   The segment descriptor.
     RECNO      I   The number of the pointing record to be returned.
     RECORD     O   The pointing record.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE     is the handle of the binary CK file containing the
                desired segment. The file should have been opened
                for read or write access, either by <a href="cklpf.html">CKLPF</a>, <a href="dafopr.html">DAFOPR</a>,
                or <a href="dafopw.html">DAFOPW</a>.

     DESCR      is the packed descriptor of the data type 4 segment.

     RECNO      is the number of the pointing record to be returned
                from the data type 4 segment.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     RECORD     is the pointing record indexed by RECNO in the
                segment. The contents of the record are as follows:

                ---------------------------------------------------
                | The midpoint of the approximation interval      |
                ---------------------------------------------------
                | The radius of the approximation interval        |
                ---------------------------------------------------
                | Number of coefficients for q0                   |
                ---------------------------------------------------
                | Number of coefficients for q1                   |
                ---------------------------------------------------
                | Number of coefficients for q2                   |
                ---------------------------------------------------
                | Number of coefficients for q3                   |
                ---------------------------------------------------
                | Number of coefficients for AV1                  |
                ---------------------------------------------------
                | Number of coefficients for AV2                  |
                ---------------------------------------------------
                | Number of coefficients for AV3                  |
                ---------------------------------------------------
                | q0 Cheby coefficients                           |
                ---------------------------------------------------
                | q1 Cheby coefficients                           |
                ---------------------------------------------------
                | q2 Cheby coefficients                           |
                ---------------------------------------------------
                | q3 Cheby coefficients                           |
                ---------------------------------------------------
                | AV1 Cheby coefficients (optional)               |
                ---------------------------------------------------
                | AV2 Cheby coefficients (optional)               |
                ---------------------------------------------------
                | AV3 Cheby coefficients (optional)               |
                ---------------------------------------------------
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     See 'ckparam.inc'.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the segment is not of data type 4, the error
         SPICE(CKWRONGDATATYPE) is signalled.

     2)  If RECNO is less than one or greater than the number of
         records in the specified segment, the error
         SPICE(CKNONEXISTREC) is signalled.

     3)  If the specified handle does not belong to any DAF file that
         is currently known to be open, an error is diagnosed by a
         routine that this routine calls.

     4)  If DESCR is not a valid descriptor of a segment in the CK
         file specified by HANDLE, the results of this routine are
         unpredictable.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     The file specified by HANDLE should be open for read or
     write access.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     For a detailed description of the structure of a type 4 segment,
     see the CK required reading.

     This is a utility routine that may be used to read the individual
     pointing records that make up a type 4 segment. It is normally
     used in conjunction with <a href="cknr04.html">CKNR04</a>, which gives the number of
     pointing records stored in a segment.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Suppose that DATA.BC is a CK file that contains segments of
     data type 4. Then the following code fragment extracts the
     data packets contained in the segment.

     C
     C     CK parameters include file.
     C
           INCLUDE               'ckparam.inc'
     C
     C     Declarations.
     C
           DOUBLE PRECISION      DCD    ( 2 )
           DOUBLE PRECISION      DESCR  ( 5 )
           DOUBLE PRECISION      PKTDAT ( CK4RSZ )

           INTEGER               AVFLAG
           INTEGER               HANDLE
           INTEGER               I
           INTEGER               ICD    ( 6 )
           INTEGER               K
           INTEGER               LASTAD
           INTEGER               NCOEF  ( QAVSIZ )
           INTEGER               NREC

           LOGICAL               FOUND
     C
     C     First load the file. (The file may also be opened by using
     C     <a href="cklpf.html">CKLPF</a>.)
     C
           CALL <a href="dafopr.html">DAFOPR</a> ( 'DATA.BC', HANDLE )
     C
     C     Begin forward search. Find the first array.
     C
           CALL <a href="dafbfs.html">DAFBFS</a> ( HANDLE )
           CALL <a href="daffna.html">DAFFNA</a> ( FOUND  )
     C
     C     Get segment descriptor.
     C
           CALL <a href="dafgs.html">DAFGS</a> ( DESCR )
     C
     C     Unpack the segment descriptor into its double precision
     C     and integer components.
     C
           CALL <a href="dafus.html">DAFUS</a> ( DESCR, 2, 6, DCD, ICD )

           IF ( ICD( 3 ) .EQ. 4 ) THEN
     C
     C        How many records does this segment contain?
     C
              CALL <a href="cknr04.html">CKNR04</a> ( HANDLE, DESCR, NREC )

              DO I = 1, NREC
     C
     C           Get the data records stored in the segment.
     C
                 CALL <b>CKGR04</b> ( HANDLE, DESCR, I, PKTDAT )
     C
     C           Print data packet contents. Print coverage interval 
     C           midpoint &amp; radii first.
     C
                 WRITE (2,*) PKTDAT (1)
                 WRITE (2,*) PKTDAT (2)
     C
     C           Decode numbers of coefficients.
     C
                 CALL ZZCK4D2I ( PKTDAT(3), QAVSIZ, CK4PCD, NCOEF )
     C
     C           Print number of coefficients for Q0, Q1, Q2 and Q3.
     C
                 WRITE (2,FMT='(I2,6X,I2)') NCOEF( 1 ), NCOEF( 2 ) 
                 WRITE (2,FMT='(I2,6X,I2)') NCOEF( 3 ), NCOEF( 4 )
     C
     C           Print number coefficients for AV1, AV2 and AV3.
     C
                 WRITE (2,FMT='(I2,6X,I2)') NCOEF( 5 ), NCOEF( 6 )
                 WRITE (2,FMT='(I2,6X,I2)') NCOEF( 7 )
     C
     C           Print Cheby coefficients.
     C
                 LASTAD = 0

                 DO K = 1, QAVSIZ
                    LASTAD = LASTAD + NCOEF( K )
                 END DO

                 DO K = 4, LASTAD + 4
                    WRITE (2,*) PKTDAT (K)
                 END DO

              END DO

           END IF
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     1) The binary CK file containing the segment whose descriptor
        was passed to this routine must be opened for read or write
        access by either <a href="cklpf.html">CKLPF</a>, <a href="dafopr.html">DAFOPR</a>, or <a href="dafopw.html">DAFOPW</a>.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     Y.K. Zaiko     (JPL)
     B.V. Semenov   (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.1, 18-APR-2014 (BVS)

        Minor header edits.

    SPICELIB Version 1.0.0, 05-MAY-1999 (YKZ) (BVS)</PRE>
<h4>Link to routine CKGR04 source file <a href='../../../src/spicelib/ckgr04.f'>ckgr04.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:23:56 2014</pre>

</body>
</html>

