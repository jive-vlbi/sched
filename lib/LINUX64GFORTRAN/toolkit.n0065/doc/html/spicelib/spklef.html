
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>spklef</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>spklef</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 SPKLEF ( S/P Kernel, Load ephemeris file )
 
      ENTRY SPKLEF ( FNAME, HANDLE )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Load an ephemeris file for use by the readers.  Return that
     file's handle, to be used by other SPK routines to refer to the
     file.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/spk.html">SPK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     EPHEMERIS
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     CHARACTER*(*)         FNAME
     INTEGER               HANDLE
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     FNAME      I   Name of the file to be loaded.
     HANDLE     O   Loaded file's handle.
     FTSIZE     P   Maximum number of loaded SPK files.
    
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     FNAME      Character name of the file to be loaded.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     HANDLE     Integer handle assigned to the file upon loading.
                Almost every other SPK routine will subsequently use
                this number to refer to the file.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     FTSIZE     is the maximum number of SPK files that may 
                be loaded simultaneously under any circumstances.
                FTSIZE is currently set to match the maximum number
                of DAF files that may be loaded simultaneously.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If an attempt is made to open more DAF files than is specified
        by the parameter FTSIZE in <a href="dafah.html">DAFAH</a>, an error is signaled by a
        routine in the call tree of this routine.

     2) If an attempt is made to load more files than is specified
        by the local paramater FTSIZE, and if the DAF system has 
        room to load another file, the error SPICE(SPKFILETABLEFULL)
        signaled.  The current setting of FTSIZE does not allow this
        situation to arise:  the DAF system will trap the error 
        before this routine has the chance.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     A file specified by FNAME, to be loaded.  The file is assigned a
     handle by <b>SPKLEF</b>, which will be used by most other routines to
     refer to it.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     If there is room for a new file in the file table, <b>SPKLEF</b> creates
     an entry for it and loads the file for reading using <a href="dafopr.html">DAFOPR</a>.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     See the Example above, in <a href="spkbsr.html">SPKBSR</a>.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     SPK Required Reading.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman    (JPL)
     J.M. Lynch      (JPL)
     R.E. Thurman    (JPL)
     I.M. Underwood  (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 5.0.0, 17-MAR-2014 (NJB)

        Updated segment pool initialization condition in entry
        point <b>SPKLEF</b> so that the pool is initialized only if the file
        table is empty.
     
    SPICELIB Version 4.0.0, 28-DEC-2001 (NJB)

        Bug fixes:  

        1) When an already loaded kernel is opened with <a href="dafopr.html">DAFOPR</a>,
           it now has its link count reset to 1 via a call to 
           <a href="dafcls.html">DAFCLS</a>.
        
        2) This routine now resets all file numbers when 
           the next file number reaches INTMAX()-1, thereby avoiding 
           arithmetic overflow.  The numbers in the file table 
           are replaced with consecutive integers in the range
           1 : NFT, such that the ordering of the numbers is not
           changed.  The HFS and LFS arrays are updated accordingly.

        Also, the flags indicating validity of the re-use intervals
        are set to .FALSE. here.


    SPICELIB Version 2.0.0, 25-NOV-1992 (JML)

     1) When loading a file, <b>SPKLEF</b> now checks if the file table is
        full only after determining that the file is not currently
        loaded. Previously, if the file table was full and an attempt
        was made to reload a file, an error was signaled.  A new
        exception was added as a result of this change.

     2) A bug in the way that <b>SPKLEF</b> and <a href="spkuef.html">SPKUEF</a> clean up the body
        tables after a file is unloaded was fixed.

    SPICELIB Version 1.0.2, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.1, 22-MAR-1990 (HAN)

        Literature references added to the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (RET)</PRE>
<h4>Link to routine SPKLEF source file <a href='../../../src/spicelib/spkbsr.f'>spkbsr.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:25:05 2014</pre>

</body>
</html>

