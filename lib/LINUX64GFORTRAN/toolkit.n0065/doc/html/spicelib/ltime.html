
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>ltime</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>ltime</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      LTIME ( Light Time )
 
      SUBROUTINE LTIME ( ETOBS, OBS, DIR, TARG, ETTARG, ELAPSD )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     This routine computes the transmit (or receive) time
     of a signal at a specified target, given the receive
     (or transmit) time at a specified observer. The elapsed
     time between transmit and receive is also returned.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
       SPK
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      IMPLICIT NONE
      DOUBLE PRECISION      ETOBS
      INTEGER               OBS
      CHARACTER*(2)         DIR
      INTEGER               TARG
      DOUBLE PRECISION      ETTARG
      DOUBLE PRECISION      ELAPSD
 
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
      VARIABLE  I/O  DESCRIPTION
      --------  ---  --------------------------------------------------
      ETOBS      I   Epoch of a signal at some observer
      OBS        I   NAIF-id of some observer
      DIR        I   Direction the signal travels ( '-&gt;' or '&lt;-' )
      TARG       I   NAIF-id of the target object
      ETTARG     O   Epoch of the signal at the target
      ELAPSD     O   Time between transmit and receipt of the signal
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     ETOBS       is an epoch expressed in ephemeris second (TDB)
                 past the epoch of the J2000 reference system.
                 This is the time at which an electromagnetic
                 signal is &quot;at&quot; the observer.

     OBS         is the NAIF-id of some observer.

     DIR         is the direction the signal travels.  The
                 acceptable values are '-&gt;' and '&lt;-'.  When
                 you read the calling sequence from left to
                 right, the &quot;arrow&quot; given by DIR indicates
                 which way the electromagnetic signal is travelling.

                 If the argument list reads as below,

                  ..., OBS, '-&gt;', TARG, ...

                 the signal is travelling from the observer to the
                 target.

                 If the argument reads as

                  ..., OBS, '&lt;-', TARG

                 the signal is travelling from the target to
                 the observer.

     TARG        is the NAIF-id of the target.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     ETTARG      is the epoch expressed in ephemeris seconds (TDB)
                 past the epoch of the J2000 reference system
                 at which the electromagnetic signal is &quot;at&quot; the
                 target body.

                 Note ETTARG is computed using only Newtonian
                 assumptions about the propagation of light.

     ELAPSD      is the number of ephemeris seconds (TDB) between
                 transmission and receipt of the signal.

                 ELAPSD = DABS( ETOBS - ETTARG )
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If DIR is not one of '-&gt;' or '&lt;-' the error
       'SPICE(BADDIRECTION)' will be signalled. In this case
        ETTARG and ELAPSD will not be altered from their
        input values.

     2) If insufficient ephemeris information is available to
        compute the outputs ETTARG and ELAPSD, or if observer
        or target is not recognized, the problems is diagnosed
        by a routine in the call tree of this routine.

        In this case, the value of ETTARG will be set to ETOBS
        and ELAPSD will be set to zero.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     Suppose a radio signal travels between two solar system
     objects. Given an ephemeris for the two objects, which way
     the signal is travelling, and the time when the signal is
     &quot;at&quot; at one of the objects (the observer OBS), this routine
     determines when the signal is &quot;at&quot; the other object (the
     target TARG).   It also returns the elapsed time between
     transmission and receipt of the signal.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Example 1.
     ----------
     Suppose a signal is transmitted at time ET from the Goldstone
     tracking site (id-code 399001) to a spacecraft whose id-code
     is -77.


           signal travelling to spacecraft
       *  -._.-._.-._.-._.-._.-._.-._.-._.-&gt;  *

       Goldstone (OBS=399001)            Spacecraft (TARG = -77)
       at epoch ETOBS(given)             at epoch ETTARG(unknown)

     Assuming that all of the required SPICE kernels have been
     loaded, the code fragment below shows how to compute the
     time (ARRIVE) at which the signal arrives at the spacecraft
     and how long (HOWLNG) it took the signal to reach the spacecraft.
     (Note that we display the arrival time as the number of seconds
     past J2000.)

        OBS   = 399001
        TARG  = -77
        ETOBS = ET

        CALL <b>LTIME</b> ( ETOBS, OBS, '-&gt;', TARG, ARRIVE, HOWLNG )
        CALL <a href="etcal.html">ETCAL</a>

        WRITE (*,*) 'The signal arrived at time: ', ARRIVE
        WRITE (*,*) 'It took ', HOWLNG, ' seconds to get there.'


     Example 2.
     ----------
     Suppose a signal is received at the Goldstone tracking sight
     at epoch ET from the spacecraft of the previous example.

               signal sent from spacecraft
         *  &lt;-._.-._.-._.-._.-._.-._.-._.-._.- *

       Goldstone (OBS=399001)               Spacecraft (TARG = -77)
       at epoch ETOBS(given)                at epoch ETTARG(unknown)

     Again assuming that all the required kernels have been loaded
     the code fragment below computes the epoch at which the
     signal was transmitted from the spacecraft.

        OBS   = 399001
        TARG  = -77
        ETOBS = ET

        CALL <b>LTIME</b> ( ETOBS, OBS, '&lt;-', TARG, SENT, HOWLNG )
        CALL <a href="etcal.html">ETCAL</a>

        WRITE (*,*) 'The signal was transmitted at: ', SENT
        WRITE (*,*) 'It took ', HOWLNG, ' seconds to get here.'

     EXAMPLE 3
     ---------
     Suppose there is a transponder on board the spacecraft of
     the previous examples that transmits a signal back to the
     sender exactly 1 microsecond after a signal arrives at
     the spacecraft.  If we send a signal from Goldstone
     to the spacecraft and wait to receive it at Canberra.
     What will be the epoch at which the return signal arrives
     in Canberra? ( The id-code for Canberra is 399002 ).

     Again, assuming we've loaded all the necessary kernels,
     the fragment below will give us the answer.

        GSTONE = 399001
        SC     = -77
        CANBER = 399002
        ETGOLD = ET

        CALL <b>LTIME</b> ( ETGOLD, GSTONE, '-&gt;', SC, SCGET, LT1 )

     Account for the microsecond delay between receipt and transmit

        SCSEND = SCGET + 0.000001

        CALL <b>LTIME</b> ( SCSEND, SC, '-&gt;', CANBER, ETCANB, LT2 )

        RNDTRP = ETCANB - ETGOLD

        WRITE (*,*) 'The  signal arrives in Canberra at: ', ETCANB
        WRITE (*,*) 'Round trip time for the signal was: ', RNDTRP
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
      W.L. Taber      (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.2, 22-SEP-2004 (EDW)

        Placed Copyright after Abstract.

    SPICELIB Version 1.1.1, 18-NOV-1996 (WLT)

        Errors in the examples section were corrected.

    SPICELIB Version 1.1.0, 10-JUL-1996 (WLT)

        Added Copyright Notice to the header.

    SPICELIB Version 1.0.0, 10-NOV-1995 (WLT)</PRE>
<h4>Link to routine LTIME source file <a href='../../../src/spicelib/ltime.f'>ltime.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:36 2014</pre>

</body>
</html>

