
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dafsih</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dafsih</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 DAFSIH ( DAF, signal invalid handles )

      ENTRY DAFSIH ( HANDLE, ACCESS )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Signal an error if a DAF file handle does not designate a DAF
     that is open for a specified type of access.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/daf.html">DAF</a>
     <a href="../req/error.html">ERROR</a>
     <a href="../req/sets.html">SETS</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     DAF
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     INTEGER               HANDLE
     CHARACTER*(*)         ACCESS
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   HANDLE to be validated.
     ACCESS     I   String indicating access type.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE         is a DAF handle to validate.  For HANDLE to be
                    considered valid, it must specify a DAF that is
                    open for the type of access specified by the input
                    argument ACCESS.


     ACCESS         is a string indicating the type of access that
                    the DAF specified by the input argument HANDLE
                    must be open for.  The values of ACCESS may be


                       'READ'      File must be open for read access
                                   by DAF routines.  All open DAFs
                                   may be read.

                       'WRITE'     File must be open for write access
                                   by DAF routines.

                                   Note that files open for write
                                   access may be read as well as
                                   written.


                    Leading and trailing blanks in ACCESS are ignored,
                    and case is not significant.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the input argument ACCESS has an unrecognized value,
         the error SPICE(INVALIDOPTION) is signalled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine signals the error SPICE(DAFINVALIDACCESS) if the
     DAF designated by the input argument HANDLE is not open
     for the specified type of access.  If HANDLE does not designate
     an open DAF, the error SPICE(DAFNOSUCHHANDLE) is signalled.

     This routine allows subroutines to test file handles for
     validity before performing operations on them, such as
     finding the name of the file designated by a handle.  Many
     DAF operations on handles may cause unpredictable program
     behavior if the handles are invalid.  This routine should
     be used in situations where the appropriate action to take upon
     determining that a handle is invalid is to signal an error.
     <b>DAFSIH</b> centralizes the error response for this type of error in a
     single routine.

     In cases where it is necessary to determine the validity of a
     file handle, but it is not an error for the handle to refer
     to a closed file, the entry point <a href="dafhof.html">DAFHOF</a> should be used instead
     of <b>DAFSIH</b>.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     1)  Add data to a DAF specified by a file handle.  Signal an
         error if the file is not open for writing.  Check the
         SPICELIB error status function <a href="failed.html">FAILED</a> after calling
         <b>DAFSIH</b>, so that the routine will return if <b>DAFSIH</b>
         signalled an error (we're presuming that this code
         fragment would be used in a subroutine).

            C
            C     Check that HANDLE is valid, then add data to the
            C     file specified by HANDLE.
            C
                  CALL <b>DAFSIH</b>  (  HANDLE, 'WRITE' )

                  IF ( <a href="failed.html">FAILED</a>() ) THEN
                     RETURN
                  END IF

                  CALL <a href="dafbna.html">DAFBNA</a> (  HANDLE,  SUM,    NAME )
                  CALL <a href="dafada.html">DAFADA</a> (  DATA,    N            )
                  CALL <a href="dafena.html">DAFENA</a>

     2)  Find the size of an array in a DAF specified by a file
         handle.  Signal an error if the file is not open for reading.

            C
            C     Check that HANDLE is valid, then obtain the
            C     current array summary and compute the size of
            C     the current array.
            C
                  CALL <b>DAFSIH</b>  ( HANDLE, 'READ' )

                  IF ( <a href="failed.html">FAILED</a>() ) THEN
                     RETURN
                  END IF

            C
            C     Obtain the summary format, then the integer and d.p.
            C     components of the summary.  Finally, compute the
            C     array length.
            C
                  CALL <a href="dafhsf.html">DAFHSF</a> (  HANDLE, ND, NI          )
                  CALL <a href="dafgs.html">DAFGS</a>  (  SUMMRY                  )
                  CALL <a href="dafus.html">DAFUS</a>  (  SUMMRY, ND, NI, DC, IC  )

                  IA      =  IC( NI - 1 )
                  FA      =  IC( NI     )
                  LENGTH  =  FA  -  IA  +  1

     3)  Make sure that a file handle designates an open DAF.  Signal
         an error if it does not.

         Note that if a DAF is open at all, read access is allowed.

                  CALL <b>DAFSIH</b> ( HANDLE, 'READ' )

                  IF ( <a href="failed.html">FAILED</a>() ) THEN
                     RETURN
                  END IF
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     K.R. Gehringer (JPL)
     N.J. Bachman   (JPL)
     J.M. Lynch     (JPL)
     W.L. Taber     (JPL)
     F.S. Turner    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 8.0.1, 10-OCT-2012 (EDW)

        Corrected ordering of header section.

    SPICELIB Version 8.0.0, 13-NOV-2001 (FST)

        This routine was updated to utilize the new handle manager
        software to manage binary file formats and consolidated
        I/O code.

    SPICELIB Version 7.0.4, 08-OCT-1999 (WLT)

        The environment lines were expanded so that the supported
        environments are now explicitely given.  New
        environments are WIN-NT

    SPICELIB Version 7.0.3, 16-SEP-1999 (NJB)

        CSPICE environments were added.  Some typos were corrected.

    SPICELIB Version 7.0.2, 28-JUL-1999 (WLT)

        The environment lines were expanded so that the supported
        environments are now explicitly given.  New
        environments are PC-DIGITAL, SGI-O32 and SGI-N32.

    SPICELIB Version 7.0.1, 17-MAR-1999 (WLT)

        The environment lines were expanded so that the supported
        environments are now explicitly given.  Previously,
        environments such as SUN-SUNOS and SUN-SOLARIS were implied
        by the environment label SUN.

    SPICELIB Version 1.2.1, 29-SEP-1993 (KRG)

        Removed references to specific DAF file open routines in the
        $ Detailed_Input section of the header. This was done in order
        to minimize documentation changes if these open routines ever
        change.

    SPICELIB Version 1.2.0, 25-FEB-1993 (JML)

        IOSTAT is now checked after the INQUIRE statement.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 03-SEP-1991 (NJB) (WLT)</PRE>
<h4>Link to routine DAFSIH source file <a href='../../../src/spicelib/dafah.f'>dafah.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:06 2014</pre>

</body>
</html>

