
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dafb2t</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dafb2t</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 DAFB2T ( DAF, binary to text )
 
      SUBROUTINE DAFB2T ( BINARY, TEXT )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Deprecated. The routine <a href="dafbt.html">DAFBT</a> supersedes this routine.
     NAIF supports this routine only to provide backward 
     compatibility.

     Write the contents of a binary DAF to a text file opened by
     the calling program.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/daf.html">DAF</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      CHARACTER*(*)         BINARY
      INTEGER               TEXT
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     BINARY     I   Name of an existing binary DAF.
     TEXT       I   Logical unit connected to text file.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     BINARY      is the name of an existing binary DAF.

     TEXT        is a logical unit number, to which a text file has
                 been connected by the calling program, and into
                 which the contents of BINARY are to be written
                 (in a form more suitable for transfer between
                 heterogeneous computing environments).
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If for some reason the text file cannot be written,
        the error SPICE(DAFWRITEFAIL) is signalled.

     2) If for some reason the ID word cannot be read from the DAF
        file, the error SPICE(DAFREADFAIL) will be signalled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See arguments BINARY, TEXT.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine has been made obsolete by the new DAF binary to text
     conversion routine <a href="dafbt.html">DAFBT</a>. This routine remains available for
     reasons of backward compatibility. We strongly recommend that you
     use the new conversion routines for any new software development.
     Please see the header of the routine <a href="dafbt.html">DAFBT</a> for details.

     Any binary DAF may be transferred between heterogeneous
     Fortran environments by converting it to an equivalent file
     containing only ASCII characters. Such a file can be transferred
     almost universally, using any number of established protocols
     (Kermit, FTP, and so on). Once transferred, the ASCII file can
     be converted to a binary file, using the representations
     native to the new host environment.

     There are two pairs of routines that can be used to convert
     DAFs between binary and text. The first pair, <a href="dafb2a.html">DAFB2A</a>
     and <a href="dafa2b.html">DAFA2B</a>, works with complete files. That is, <a href="dafb2a.html">DAFB2A</a> creates
     a complete ASCII file containing all of the information in
     a particular binary file, and nothing else; this file can
     be fed directly into <a href="dafa2b.html">DAFA2B</a> to produce a complete binary file.
     In each case, the names of the files are specified.

     A related pair of routines, <b>DAFB2T</b> and <a href="daft2b.html">DAFT2B</a>, assume that
     the ASCII data are to be stored in the midst of a text file.
     This allows the calling program to surround the data with
     standardized labels, to append several binary files into a
     single text file, and so on.

     Note that the contents of reserved records in the binary file
     are not written by this routine (although they may be stored
     in the ASCII file by the calling program).
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     <a href="dafb2a.html">DAFB2A</a> and <a href="dafa2b.html">DAFA2B</a> are typically used for simple file transfers.
     If file A.DAF is a binary DAF in environment 1, it can be
     transferred to environment 2 in three steps.

        1) Convert it to ASCII:

              CALL <a href="dafb2a.html">DAFB2A</a> ( 'A.DAF', 'A.ASCII' )

        2) Transfer the ASCII file, using FTP, Kermit, or some other
           file transfer utility:

              ftp&gt; put a.ascii

        3) Convert it to binary on the new machine,

              CALL <a href="dafa2b.html">DAFA2B</a> ( 'A.ASCII', 'A.DAF', RESV )

     Note that <a href="dafb2a.html">DAFB2A</a> and <a href="dafa2b.html">DAFA2B</a> work in any standard Fortran-77
     environment.

     If the file needs to contain other information---a standard
     label, for instance---the first and third steps must be modified
     to use <b>DAFB2T</b> and <a href="daft2b.html">DAFT2B</a>. The first step becomes

        (Open a text file)
        (Write the label)
        CALL <b>DAFB2T</b> ( BINARY, UNIT  )
        (Close the text file)

     The third step becomes

        (Open the text file)
        (Read the label)
        CALL <a href="daft2b.html">DAFT2B</a> ( UNIT, BINARY, RESV )
        (Close the text file)
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     NAIF Document 167.0, &quot;Double Precision Array Files (DAF)
     Specification and User's Guide&quot;
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     K.R. Gehringer  (JPL)
     I.M. Underwood  (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 3.0.1, 26-JUL-2012 (EDW)

        Edited Abstract section to use &quot;Deprecated&quot; keyword
        and state replacement routine.

        Eliminated unneeded Revisions section.

    SPICELIB Version 3.0.0, 16-NOV-2001 (FST)

        This routine still uses a naked READ to retrieve the
        file IDWORD from the first 8 characters stored in the
        file record.  It may be that future environments
        will have characters whose storage exceeds 1 byte,
        in which case this routine will require modification.
        One possibility is to call the private file record
        reader ZZDAFGFR, which must address the translation
        for all supported non-native binary file formats on this
        platform.

        The existing call to <a href="dafhlu.html">DAFHLU</a> was replaced with ZZDDHHLU.
        The call to <a href="dafrda.html">DAFRDA</a> was replaced with a call to the new,
        translation-aware routine <a href="dafgda.html">DAFGDA</a>.

    SPICELIB Version 2.0.0, 04-OCT-1993 (KRG)

        Added the variable IDWORD to the routine for storing the ID
        word from the file being converted. This replaces a hard coded
        value of 'NAIF/DAF', and supports the new interpretation of the
        ID word.

        Removed the error SPICE(DAFNOIDWORD) as it was no longer
        relevant.

        There were no checks of the IOSTAT variable after attempting to
        write to the text file, a single test of the IOSTAT variable
        was made at the end of the routine. This was not adequate to
        detect errors when writing to the text file. So after all of
        these write statements, an IF ... END IF block was added to
        signal an error if IOSTAT .NE. 0.

           IF ( IOSTAT .NE. 0 ) THEN

              CALL <a href="dafcls.html">DAFCLS</a> ( HANDLE                                )
              CALL <a href="setmsg.html">SETMSG</a> ( 'The attempt to write to file ''#''' //
        .                   ' failed. IOSTAT = #.'                )
              CALL <a href="errfnm.html">ERRFNM</a> ( '#', TEXT                             )
              CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(DAFWRITEFAIL)'                 )
              CALL CHKOUT ( '<b>DAFB2T</b>'                              )
              RETURN

           END IF

        Removed the code from the end of the routine that purported to
        check for read errors:

           C
           C     If any write screws up, they should all screw up. Why
           C     make a billion separate checks?
           C
                 IF ( IOSTAT .NE. 0 ) THEN
                    CALL <a href="setmsg.html">SETMSG</a> ( 'Value of IOSTAT was: #. ' )
                    CALL <a href="errint.html">ERRINT</a> ( '#', IOSTAT                )
                    CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(DAFWRITEFAIL)'      )
                  END IF

        The answer to the question is:

           You have to do a billion separate checks because the IOSTAT
           value is only valid for the most recently executed write.

        Added the following error message to the routine:

           C     2) If for some reason the ID word cannot be read from
           C        the DAF file, the error SPICE(DAFREADFAIL) will be
           C        signalled.

        because the file ID word is now read from the binary DAF file
        rather than being hard coded as 'NAIF/DAF' in this routine.

        Added a statement to the $ Particulars section to the effect
        that this routine has been made obsolete by the introduction of
        the routine <a href="dafbt.html">DAFBT</a>, and that we strongly recommend the use of
        the new routine.

        Modified the $ Abstract section to reflect the fact that this
        routine is obsolete.

    SPICELIB Version 1.0.2, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.1, 22-MAR-1990 (HAN)

        Literature references added to the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (IMU)</PRE>
<h4>Link to routine DAFB2T source file <a href='../../../src/spicelib/dafb2t.f'>dafb2t.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:02 2014</pre>

</body>
</html>

