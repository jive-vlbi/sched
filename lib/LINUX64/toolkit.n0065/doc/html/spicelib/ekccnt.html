
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>ekccnt</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>ekccnt</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     EKCCNT  ( EK, column count )
 
      ENTRY EKCCNT ( TABLE, CCOUNT )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return the number of distinct columns in a specified, currently
     loaded table
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ek.html">EK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     EK
     FILES
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     CHARACTER*(*)         TABLE
     INTEGER               CCOUNT
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     TABLE      I   Name of table.
     CCOUNT     O   Count of distinct, currently loaded columns.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     TABLE          is the name of a currently loaded table.  Case
                    is not significant in the table name.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     CCOUNT         is the number of distinct columns in TABLE.
                    Columns that have the same name but belong to
                    different segments that are considered to be
                    portions of the same column, if the segments
                    containing those columns belong to TABLE.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the specified table is not loaded, the error
         SPICE(TABLENOTLOADED) is signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See the header of <a href="ekqmgr.html">EKQMGR</a> for a description of files used
     by this routine.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine is a utility intended for use in conjunction with
     the entry point <a href="ekcii.html">EKCII</a>.  These routines can be used to find the
     names and attributes of the columns that are currently loaded.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     1)  Dump the names and attributes of the columns in each loaded
         table.  <b>EKCCNT</b> is used to obtain column counts.

            C
            C     Get the number of loaded tables.
            C
                  CALL <a href="ekntab.html">EKNTAB</a> ( NTAB )

                  DO TAB = 1, NTAB
            C
            C        Get the name of the current table, and look up
            C        the column count for this table.
            C
                     CALL <a href="ektnam.html">EKTNAM</a> ( TAB,    TABNAM )
                     CALL <b>EKCCNT</b> ( TABNAM, NCOLS  )

                     WRITE (*,*) 'TABLE = ', TABNAM
                     WRITE (*,*) ' '

            C
            C        For each column in the current table, look up the
            C        column's attributes.  The attribute block
            C        index parameters are defined in the include file
            C        ekattdsc.inc.
            C
                     DO I = 1, NCOLS

                        CALL <a href="ekcii.html">EKCII</a> ( TABNAM, I, COLNAM, ATTDSC )

                        WRITE (*,*) 'COLUMN = ', COLNAM

            C
            C           Write out the current column's data type.
            C
                        IF ( ATTDSC(ATTTYP) .EQ. CHR ) THEN
                           WRITE (*,*) 'TYPE   =  CHR'

                           IF ( ATTDSC(ATTLEN) .EQ. -1 ) THEN
                              WRITE (*,*) 'STRING LENGTH = VARIABLE.'
                           ELSE
                              WRITE (*,*) 'STRING LENGTH = ',
                 .                         ATTDSC(ATTLEN)
                           END IF

                        ELSE IF ( ATTDSC(ATTTYP) .EQ. DP ) THEN
                           WRITE (*,*) 'TYPE   =  DP'

                        ELSE IF ( ATTDSC(ATTTYP) .EQ. INT ) THEN
                           WRITE (*,*) 'TYPE   =  INT'

                        ELSE
                           WRITE (*,*) 'TYPE   =  TIME'
                        END IF

            C
            C           Write out the current column's entry size.
            C
                        WRITE (*,*) 'SIZE   = ', ATTDSC(ATTSIZ)

            C
            C           Indicate whether the current column is indexed.
            C
                        IF ( ATTDSC(ATTIDX) .EQ. -1 ) THEN
                           WRITE (*,*) 'NOT INDEXED'
                        ELSE
                           WRITE (*,*) 'INDEXED'
                        END IF

            C
            C           Indicate whether the current column allows
            C           null values.
            C
                        IF ( ATTDSC(ATTNFL) .EQ. -1 ) THEN
                           WRITE (*,*) 'NULL VALUES NOT ALLOWED'
                        ELSE
                           WRITE (*,*) 'NULL VALUES ALLOWED'
                        END IF

                     END DO

                  END DO
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman   (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 2.0.0, 16-NOV-2001 (NJB)

        Bug fix:   When an already loaded kernel is opened with <a href="ekopr.html">EKOPR</a>,
        it now has its link count reset to 1 via a call to <a href="ekcls.html">EKCLS</a>.

    SPICELIB Version 1.0.1, 07-JUL-1996 (NJB)

        Misspelling of &quot;conjunction&quot; was fixed.

    SPICELIB Version 1.0.0, 23-OCT-1995 (NJB)</PRE>
<h4>Link to routine EKCCNT source file <a href='../../../src/spicelib/ekqmgr.f'>ekqmgr.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:15 2014</pre>

</body>
</html>

