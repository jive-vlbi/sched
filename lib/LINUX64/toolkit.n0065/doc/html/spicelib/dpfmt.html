
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dpfmt</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dpfmt</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      DPFMT ( Format a double precision number )
 
      SUBROUTINE DPFMT ( X, PICTUR, STR )
      IMPLICIT NONE
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Using a picture, create a formatted string that represents a
     double precision number.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     ALPHANUMERIC
     CONVERSION
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      DOUBLE PRECISION      X
      CHARACTER*(*)         PICTUR
      CHARACTER*(*)         STR
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     X          I   a double precision number.
     PICTUR     I   a string describing the appearance of the output
     STR        O   a string representing X as prescribed by PICTUR
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     X          is any double precision number.

     PICTUR     is a string used to describe the format of the
                output string.  There are four special characters
                recognized by <b>DPFMT</b> --- a leading + or -, a leading
                zero ( '0' ) or a zero that follows a leading + or -,
                and the first decimal point of the string.

                All other non-blank characters are regarded as
                equivalent.  The picture ends at the first blank
                character.  The effects associated with the various
                characters in a picture are spelled out in the
                description of the output STRING.

                The following pictures are treated as errors.

                ' ', '+', '-', '.', '+.', '-.'
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     STRING     is a string representing X that matches the input
                picture.  The format of STRING is governed by PICTUR.
                It will represent X rounded to the level of precision
                specified by PICTUR.

                If the first character of the picture is a minus sign,
                the first character in the output string will be
                a blank if the number is non-negative, a minus sign
                if the number is negative.

                If the first character of the picture is a plus sign,
                the first character of the output string will be a
                plus if the number is positive, a blank if the number
                is zero, and a minus sign if the number is negative.

                If the first character of the string is NOT a sign
                (plus or minus) the first character of the output
                string will be a minus sign if the number is negative
                and will be the first character of the integer part
                of the number otherwise.

                The integer portion of STRING will contain the same
                number of characters as appear before the decimal
                point (or last character if there is no decimal
                point) but after a leading + or -.

                If the picture begins with any of the following

                   '+0', '-0', or '0'

                it is said to have a leading zero.  If a picture has
                a leading zero and the integer portion is not large
                enough to fill up the integer space specified by
                PICTUR, STRING will be zero padded from the sign (if
                one is required) up to the first character of the
                integer part of the number.

                If picture does NOT have a leading zero and the
                integer portion is not large enough to fill up the
                space specified by PICTUR, STRING will be blank
                padded on the left between the sign (if one is
                required) and the first character of the integer part
                of the number.

                If a decimal point ( '.' ) is present in PICTUR it
                will be present following the integer portion of
                STRING. Moreover, the decimal portion of STRING will
                contain the same number of digits as there are
                non-blank characters following the decimal point in
                PICTUR.  However, only the first 14 digits starting
                with the first non-zero digit are meaningful.

                If the format specified by PICTUR does not provide
                enough room for the integer portion of X, the routine
                determines whether or not the number of characters
                present in the picture is sufficient to create a
                representation for X using scientific notation.  If
                so, the output is displayed using scientific notation
                (leading signs, if they are present in PICTUR, will
                also appear in STRING).   If the format specified by
                PICTUR is too short to accommodate scientific
                notation, the output string is filled with '*' to the
                same length as the length of PICTUR.  Leading signs
                are not preserved in this overflow case.

                STRING may overwrite PICTUR.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) A picture that begins with a blank will cause the error
        'SPICE(NOPICTURE)' to be signalled.

     2) A picture that consists only of '+', '-', '.', '+.' or '-.'
        are regarded are regarded as errors (there's no significant
        component to the picture.)  These pictures cause the error
        'SPICE(BADPICTURE)' to be signalled.

     3) If the length of STR is less than the length of the first
        non-blank portion of PICTUR, the error 'SPICE(OUTPUTTOOSHORT)'
        will be signalled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine provides a mechanism for producing numeric strings
     formatted according to a user supplied picture. We expect that
     the string produced by this routine will be used to assist in
     the construction of a string that can be read by people.

     Note that the process of converting a double precision number
     to a string, in not precisely invertible even if the string
     contains all of the significant figures allowed by this
     routine.  You should not anticipate that the string produced
     by this routine can be &quot;read&quot; into a double precision number
     to reproduce the double precision number X. To the level of
     accuracy implied by the string representation, they will be
     the same.  But, they are unlikely to have the same internal
     binary representation.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Suppose that X has the binary representation of <a href="pi.html">PI</a>. Then the
     table below illustrates the strings that would be produced
     by a variety of different pictures.

     PICTUR         |    STRING
     -------------------------------
     '0x.xxx'       |  '03.142'
     'xx.xxx'       |  ' 3.142'
     '+xxx.yyyy'    |  '+  3.1416'
     '-.yyyy'       |  '******'
     'xxxxxxxx'     |  '       3'
     '00xx'         |  '0003'
     '-00.0000000'  |  ' 03.1415927'
     '00'           |  '03'
     'x.'           |  '3.'
     '.mynumber'    |  '3.142E+00'
     'my dog spot'  |  ' 3'
     'my.dog spot'  |  ' 3.142'
     '+my.dog,spot' |  '+ 3.14159265'



     Suppose that X has the binary representation of 2/3. Then the
     table below illustrates the strings that would be produced
     by a variety of different pictures.

     PICTUR         |    STRING
     -------------------------------
     '+x.xxx'       |  '+0.667'
     '+xx.xxx'      |  '+ 0.667'
     'xxx.yyyy'     |  '  0.6667'
     '.yyyy'        |  '.6667'
     'xxxxxxxx'     |  '       1'
     '00xx'         |  '0001'
     '-0.0000000'   |  ' 0.6666667'
     '00'           |  '01'
     'x.'           |  '1.'
     'mynumber'     |  '       1'
     'my dog spot'  |  ' 1'
     'my.dog spot'  |  ' 0.667'
     'my.dog,spot'  |  ' 0.66666667'

     Suppose that X has the binary representation of -8/9. Then the
     table below illustrates the strings that would be produced
     by a variety of different pictures.


     PICTUR         |    STRING
     -------------------------------
     '+x.xxx'       |  '-0.889'
     '-00.xxxx'     |  '-00.8889'
     'xxx.xxx'      |  ' -0.889'
     '000.000'      |  '-00.889'
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     W.L. Taber      (JPL)
     B.V. Semenov    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.2, 31-JAN-2008 (BVS)

        Removed non-standard end-of-declarations marker
        'C%&amp;END_DECLARATIONS' from comments.

    Spicelib Version 1.0.1, 22-JUN-1998 (WLT)

        A number of typographical and grammatical errors
        were corrected in the header.

    Spicelib Version 1.0.0, 17-SEP-1996 (WLT)</PRE>
<h4>Link to routine DPFMT source file <a href='../../../src/spicelib/dpfmt.f'>dpfmt.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:12 2014</pre>

</body>
</html>

