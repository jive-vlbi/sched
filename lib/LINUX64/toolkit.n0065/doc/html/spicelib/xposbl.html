
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>xposbl</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>xposbl</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      XPOSBL ( Transpose a matrix by blocks    )
 
      SUBROUTINE XPOSBL ( BMAT, NROW, NCOL, BSIZE, BTMAT )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Transpose the square blocks within a matrix. 
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     MATH
     MATRIX
     TRANSFORMATION
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      INTEGER               NROW
      INTEGER               NCOL
      INTEGER               BSIZE
      DOUBLE PRECISION      BMAT  ( NROW, NCOL )
      DOUBLE PRECISION      BTMAT ( NROW, NCOL )
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     BMAT       I   a matrix composed of square block submatrices
     NROW       I   the number of rows in the matrix BMAT
     NCOL       I   the number of columns in the matrix BMAT
     BSIZE      I   the size of the square blocks in BMAT
     BTMAT      O   the result of transposing the blocks of BMAT
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     BMAT       is a block structured matrix.  In other words
                it looks like:


                   -                                -
                  |      :      :       :     :      |
                  |  B   :  B   :   B   :     :  B   |
                  |   11 :   12 :    13 : ... :   1C |
                  |......:......:.......:     :......|
                  |      :      :       :     :      |
                  |  B   :  B   :   B   :     :  B   |
                  |   21 :   22 :    23 : ... :   2C |
                  |......:......:.......:     :......|
                  |      .                           |
                  |      .                           |
                  |      .                           |
                  |......................     .......|
                  |      :      :       :     :      |
                  |  B   :  B   :   B   :     :  B   |
                  |   R1 :   R2 :    R3 : ... :   RC |
                  |......:......:.......:     :......|
                   -                                -

                where each B   is a square matrix of BSIZE rows and
                            ij
                and columns.

     NROW       is the number of rows in the input matrix.

     NCOL       is the number of columns in the input matrix.

     BSIZE      is the number of rows and columns in each block
                of the input matrix.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     BTMAT     is the matrix obtained from BMAT when each of its
               blocks is transposed.  Given the description of
               BMAT above, BTMAT looks like:


                   -                                -
                  |   t  :   t  :    t  :     :   t  |
                  |  B   :  B   :   B   :     :  B   |
                  |   11 :   12 :    13 : ... :   1C |
                  |......:......:.......:     :......|
                  |      :      :       :     :      |
                  |   t  :   t  :    t  :     :   t  |
                  |  B   :  B   :   B   :     :  B   |
                  |   21 :   22 :    23 : ... :   2C |
                  |......:......:.......:     :......|
                  |      .                           |
                  |      .                           |
                  |      .                           |
                  |......................     .......|
                  |      :      :       :     :      |
                  |   t  :   t  :    t  :     :   t  |
                  |  B   :  B   :   B   :     :  B   |
                  |   R1 :   R2 :    R3 : ... :   RC |
                  |......:......:.......:     :......|
                   -                                -
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If the number of rows input is not positive, your program
        will probably experience a run-time error.  However, in the
        event that your system does not catch this error, this routine
        will diagnose it and signal the error 'SPICE(BADROWCOUNT)'.

     1) If the number of columns input is not positive, your program
        will probably experience a run-time error.  However, in the
        event that your system does not catch this error, this routine
        will diagnose it and signal the error 'SPICE(BADCOLUMNCOUNT)'.

     3) If the block size input is not positive, the error
        'SPICE(BADBLOCKSIZE)' is signalled.

     4) If BMAT cannot be partitioned into an integer number of
        blocks, the error 'SPICE(BLOCKSNOTEVEN)' is signalled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine transposes the blocks of a block structured
     matrix.  This operation is valuable, as it is a means
     for computing the inverse of a state transformation matrix
     (see the example below).
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The following code fragment illustrates how you would convert
     a state relative to earth-fixed coordinates to J2000 coordinates.

     C
     C     We want to state earthfixed coordinates (399) to J2000
     C     coordinates
     C
           BODY = 399
           REF  = 'J2000'

     C
     C     Get the 6 by 6 state transformation matrix from J2000
     C     coordinates to earthfixed coordinates.
     C
           CALL <a href="tisbod.html">TISBOD</a> ( REF, BODY, ET, TISPM )

     C
     C     The inverse of TISPM can be obtained by transposing the
     C     3 by 3 blocks of the 6 by 6 matrix TISPM.
     C
           CALL <b>XPOSBL</b> ( TISPM, 6, 6, 3, TSPMI )


     C
     C     Now transform the earthfixed state (ESTATE) to the
     C     inertial state (ISTATE).
     C
           CALL <a href="mxvg.html">MXVG</a>   ( TSPMI, ESTATE, 6, 6, ISTATE )
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     W.L. Taber     (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.2, 22-APR-2010 (NJB)

        Header correction: assertions that the output
        can overwrite the input have been removed.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 5-NOV-1990 (WLT)</PRE>
<h4>Link to routine XPOSBL source file <a href='../../../src/spicelib/xposbl.f'>xposbl.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:25:29 2014</pre>

</body>
</html>

