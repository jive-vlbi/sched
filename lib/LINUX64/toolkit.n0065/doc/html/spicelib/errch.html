
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>errch</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>errch</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      ERRCH  ( Insert String into Error Message Text )
 
      SUBROUTINE ERRCH ( MARKER, STRING )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Substitute a character string for the first occurrence of
     a marker in the current long error message.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/error.html">ERROR</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     ERROR
     CONVERSION
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      INCLUDE 'errhnd.inc'
 
      CHARACTER*(*)         MARKER
      CHARACTER*(*)         STRING
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  ---------------------------------------------------
     MARKER     I   A substring of the error message to be replaced.
     STRING     I   The character string to substitute for MARKER.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     MARKER     is a character string that marks a position in
                the long error message where a character string
                is to be substituted.  Leading and trailing blanks
                in MARKER are not significant.

                Case IS significant:  'XX' is considered to be
                a different marker from 'xx'.

     STRING     is a character string that will be substituted for
                the first occurrence of MARKER in the long error
                message.  This occurrence of the substring indicated
                by MARKER will be removed and replaced by STRING.
                Leading and trailing blanks in STRING are not
                significant.  However, if STRING is completely blank,
                a single blank character will be substituted for
                the marker.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     LMSGLN  is the maximum length of the long error message.  See
             the include file errhnd.inc for the value of LMSGLN.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the character string resulting from the substitution
         exceeds the maximum length of the long error message, the
         long error message is truncated on the right.  No error is
         signalled.

     2)  If MARKER is blank, no substitution is performed.  No error
         is signalled.

     3)  If STRING is blank, then the first occurrence of MARKER is
         replaced by a single blank.

     4)  If MARKER does not appear in the long error message, no
         substitution is performed.  No error is signalled.

     5)  If changes to the long error message are disabled, this
         routine has no effect.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     The purpose of this routine is to allow you to tailor the long
     error message to include specific information that is available
     only at run time.  This capability is somewhat like being able to
     put variables in your error messages.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
      1)   In this example, the marker is  '#'.  We'll signal a file
           open error, and we'll include in the error message the name
           of the file we tried to open.  There are three steps:

              -- Set the long message, using a marker for the location
                 where a value is to be substituted.

              -- Substitute the file name into the error message.

              -- Signal the error (causing output of error messages)
                 using the SPICELIB routine <a href="sigerr.html">SIGERR</a>.

              C
              C     Error on file open attempt.  Signal an error.
              C     The character string variable FILE contains the
              C     file name.
              C
              C     After the call to <b>ERRCH</b>, the long error message
              C     will contain the file name held in the string
              C     FILE.  For example, if FILE contains the name
              C     'MYFILE.DAT', the long error message will be
              C
              C         'File open error.  File is MYFILE.DAT.'
              C

                    CALL <a href="setmsg.html">SETMSG</a> ( 'File open error.  File is #.' )
                    CALL <b>ERRCH</b>  ( '#',  FILE                     )
                    CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(FILEOPENFAILED)'        )


      2)   Same example as (1), except this time we'll use a better-
           looking and more descriptive marker than '#'.  Instead,
           we'll use the marker 'FILENAME'.  This does not affect the
           long error message; it just makes the code more readable.

              C
              C     Error on file open attempt.  Signal an error.
              C     The character string variable FILE contains the
              C     file name.
              C
                    CALL <a href="setmsg.html">SETMSG</a> ( 'File open error. File is FILENAME.')
                    CALL <b>ERRCH</b>  ( 'FILENAME',  FILE                   )
                    CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(FILEOPENFAILED)'             )


      3)   Same example as (2), except this time there's a problem with
           the variable FILE: it's blank.  This time, the code fragment

              C
              C     Error on file open attempt.  Signal an error.
              C     The character string variable FILE contains the
              C     file name.
              C
                    CALL <a href="setmsg.html">SETMSG</a> ( 'File open error. File is FILENAME.')
                    CALL <b>ERRCH</b>  ( 'FILENAME',  FILE                   )

           sets the long error message to

              'File open error.  File is  '.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     1) The caller must ensure that the message length, after sub-
        stitution is performed, doesn't exceed LMSGLN characters.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     J.E. McLean     (JPL)
     N.J. Bachman    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 2.1.0, 29-JUL-1997 (NJB)

        Maximum length of the long error message is now represented
        by the parameter LMSGLN.

    SPICELIB Version 2.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 2.0.0 25-MAR-1991  (JEM) (NJB)

        When the input value of STRING is blank, this version
        replaces the first occurrence of MARKER with a
        single blank character.   Header was edited to improve
        clarity.  Cosmetic changes to code were made.

    SPICELIB Version 1.0.0, 31-JAN-1990  (NJB)</PRE>
<h4>Link to routine ERRCH source file <a href='../../../src/spicelib/errch.f'>errch.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:19 2014</pre>

</body>
</html>

