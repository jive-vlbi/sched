
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>tipbod</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>tipbod</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
  TIPBOD ( Transformation, inertial position to bodyfixed )
 
      SUBROUTINE TIPBOD ( REF, BODY, ET, TIPM )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
      Return a 3x3 matrix that transforms positions in inertial
      coordinates to positions in body-equator-and-prime-meridian
      coordinates.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
      <a href="../req/pck.html">PCK</a>
      <a href="../req/naif_ids.html">NAIF_IDS</a>
     <a href="../req/rotation.html">ROTATION</a>
      <a href="../req/time.html">TIME</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
      TRANSFORMATION
      ROTATION
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      CHARACTER*(*)         REF
      INTEGER               BODY
      DOUBLE PRECISION      ET
      DOUBLE PRECISION      TIPM   ( 3, 3 )
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
      VARIABLE  I/O  DESCRIPTION
      --------  ---  --------------------------------------------------
      REF        I   ID of inertial reference frame to transform from.
      BODY       I   ID code of body.
      ET         I   Epoch of transformation.
      TIPM       O   Transformation (position), inertial to prime
                     meridian.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
      REF         is the NAIF name for an inertial reference frame.
                  Acceptable names include:

                    Name       Description
                    --------   --------------------------------
                    'J2000'    Earth mean equator, dynamical
                               equinox of J2000

                    'B1950'    Earth mean equator, dynamical
                               equinox of B1950

                    'FK4'      Fundamental Catalog (4)

                    'DE-118'   JPL Developmental Ephemeris (118)

                    'DE-96'    JPL Developmental Ephemeris ( 96)

                    'DE-102'   JPL Developmental Ephemeris (102)

                    'DE-108'   JPL Developmental Ephemeris (108)

                    'DE-111'   JPL Developmental Ephemeris (111)

                    'DE-114'   JPL Developmental Ephemeris (114)

                    'DE-122'   JPL Developmental Ephemeris (122)

                    'DE-125'   JPL Developmental Ephemeris (125)

                    'DE-130'   JPL Developmental Ephemeris (130)

                    'GALACTIC' Galactic System II

                    'DE-200'   JPL Developmental Ephemeris (200)

                    'DE-202'   JPL Developmental Ephemeris (202)

                  (See the routine <a href="chgirf.html">CHGIRF</a> for a full list of names.)

                  The output TIPM will give the transformation
                  from this frame to the bodyfixed frame specified by
                  BODY at the epoch specified by ET.


      BODY        is the integer ID code of the body for which the
                  position transformation matrix is requested. Bodies
                  are numbered according to the standard NAIF
                  numbering scheme.  The numbering scheme is
                  explained in the NAIF_IDS required reading file.

      ET          is the epoch at which the position transformation
                  matrix is requested. (This is typically the
                  epoch of observation minus the one-way light time
                  from the observer to the body at the epoch of
                  observation.)
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
      TIPM        is a 3x3 coordinate transformation matrix.  It is
                  used to transform positions from inertial
                  coordinates to body fixed (also called equator and
                  prime meridian --- PM) coordinates.

                  Given a position P in the inertial reference frame
                  specified by REF, the corresponding bodyfixed
                  position is given by the matrix vector product:

                     TIPM * S

                  The X axis of the PM system is directed to the
                  intersection of the equator and prime meridian.
                  The Z axis points along  the spin axis and points
                  towards the same side of the invariable plane of
                  the solar system as does earth's north pole.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
      1) If the kernel pool does not contain all of the data required
         for computing the transformation matrix, TIPM, the error
         SPICE(INSUFFICIENTANGLES) is signalled.

      2) If the reference frame, REF,  is not recognized, a routine
         called by <b>TIPBOD</b> will diagnose the condition and invoke the
         SPICE error handling system.

      3) If the specified body code, BODY, is not recognized, the
         error is diagnosed by a routine called by <b>TIPBOD</b>.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     <b>TIPBOD</b> takes PCK information as input, either in the
     form of a binary or text PCK file.  High precision
     binary files are searched for first (the last loaded
     file takes precedence); then it defaults to the text
     PCK file.  If binary information is found for the
     requested body and time, the Euler angles are
     evaluated and the transformation matrix is calculated
     from them.  Using the Euler angles PHI, DELTA and W
     we compute

            TIPM = [W] [DELTA] [PHI]
                      3       1     3


      If no appropriate binary PCK files have been loaded,
      the text PCK file is used.  Here information is found
      as RA, DEC and W (with the possible addition of nutation
      and libration terms for satellites).  Again, the Euler
      angles are found, and the transformation matrix is
      calculated from them.  The transformation from inertial to
      bodyfixed coordinates is represented as:

            TIPM = [W] [<a href="halfpi.html">HALFPI</a>-DEC] [RA+<a href="halfpi.html">HALFPI</a>]
                      3            1           3

     These are basically the Euler angles, PHI, DELTA and W:

       RA = PHI - <a href="halfpi.html">HALFPI</a>
       DEC = <a href="halfpi.html">HALFPI</a> - DELTA
       W = W

      In the text file, RA, DEC, and W are defined as follows:

                                         2      ____
                                    RA2*t       \
            RA  = RA0  + RA1*t/T  + ------   +  /     a  sin theta
                                       2        ----   i          i
                                      T           i

                                          2     ____
                                    DEC2*t      \
            DEC = DEC0 + DEC1*t/T + -------  +  /    d  cos theta
                                        2       ----  i          i
                                       T          i


                                        2      ____
                                    W2*t       \
            W   = W0   + W1*t/d   + -----   +  /     w  sin theta
                                       2       ----   i          i
                                      d          i


      where:

            d = seconds/day

            T = seconds/Julian century

            a , d , and w  arrays apply to satellites only.
             i   i       i

            theta  = THETA0(i) + THETA1(i)*t/T are specific to each
                 i

            planet.


        These angles -- typically nodal rates -- vary in number and
        definition from one planetary system to the next.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
      Note that the items necessary to compute the Euler angles
      must have been loaded into the kernel pool (by one or more
      previous calls to <a href="furnsh.html">FURNSH</a>).  The Euler angles are typically
      stored in the P_constants kernel file that comes with
      SPICELIB.

      1)  In the following code fragment, <b>TIPBOD</b> is used to transform
          a position in J2000 inertial coordinates to a state in
          bodyfixed coordinates.

          The 3-vectors POSTN represents the inertial position
          of an object with respect to the center of the
          body at time ET.

             C
             C     First load the kernel pool.
             C
                   CALL <a href="furnsh.html">FURNSH</a> ( 'PLANETARY_CONSTANTS.KER' )

             C
             C     Next get the transformation and its derivative.
             C
                   CALL <b>TIPBOD</b> ( 'J2000', BODY, ET, TIPM )

             C
             C     Convert position, the first three elements of
             C     STATE, to bodyfixed coordinates.
             C
                   CALL <a href="mxvg.html">MXVG</a>    ( TIPM, POSTN, BDPOS )
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
      The kernel pool must be loaded with the appropriate
      coefficients (from the P_constants kernel or binary PCK file)
      prior to calling this routine.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
      N.J. Bachman   (JPL)
      W.L. Taber     (JPL)
      K.S. Zukor     (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.2.0, 23-OCT-2005 (NJB)

        Updated to remove non-standard use of duplicate arguments
        in <a href="mxm.html">MXM</a> call.  Replaced header references to <a href="ldpool.html">LDPOOL</a> with
        references to <a href="furnsh.html">FURNSH</a>.

    SPICELIB Version 1.1.0, 05-JAN-2005 (NJB)

        Tests of routine <a href="failed.html">FAILED</a>() were added.

     SPICELIB Version 1.0.3, 10-MAR-1994 (KSZ)

         Underlying <a href="bodmat.html">BODMAT</a> code changed to look for binary PCK
         data files, and use them to get orientation information if
         they are available.  Only the comments to <b>TIPBOD</b> changed.

     SPICELIB Version 1.0.2, 06-JUL-1993 (HAN)

         Example in header was corrected. Previous version had
         incorrect matrix dimension specifications passed to <a href="mxvg.html">MXVG</a>.

     SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

         Comment section for permuted index source lines was added
         following the header.

     SPICELIB Version 1.0.0, 05-AUG-1991 (NJB) (WLT)</PRE>
<h4>Link to routine TIPBOD source file <a href='../../../src/spicelib/tipbod.f'>tipbod.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:25:19 2014</pre>

</body>
</html>

