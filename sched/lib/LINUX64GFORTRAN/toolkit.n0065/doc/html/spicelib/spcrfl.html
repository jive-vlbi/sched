
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>spcrfl</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>spcrfl</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 SPCRFL ( SPK and CK, read first line of comments )
 
      SUBROUTINE SPCRFL ( HANDLE, LINE, EOC )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Read the first line of text from the comment area
     of a binary SPK or CK file.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/spc.html">SPC</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      INTEGER               HANDLE
      CHARACTER*(*)         LINE
      LOGICAL               EOC
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   Handle assigned to binary SPK or CK file.
     LINE       O   First line of text from the comment area.
     EOC        O   End of comments?
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE      is the handle assigned to the binary SPK or CK file
                 which has been opened for read access.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     LINE        is the first line of text from the comment area of
                 the SPK or CK file specified by HANDLE.  LINE may
                 be blank.

     EOC         is true if the comment area is empty.  If there
                 are comments in the comment area, then EOC is false.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If the comment area of the SPK or CK file is empty, LINE
        will be blank.

     2) If the first line of comments in the comment area is longer
        than the declared length of LINE, it will be truncated to
        fit into the variable.

     3) If there is a problem reading from the comment area, the error
        SPICE(FILEREADFAILED) is signalled.

     4) If the comments are not in the correct format, the error
        SPICE(FORMATERROR) is signalled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     HANDLE      is the handle assigned to the binary SPK or CK file.
                 Use <a href="dafopr.html">DAFOPR</a> to open it for read access and get its
                 handle unless <a href="spklef.html">SPKLEF</a> or <a href="cklpf.html">CKLPF</a> has already been called
                 and returned the handle.  This file is unchanged by
                 calling <b>SPCRFL</b>.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     The structure of SPK and CK files accommodates comments in
     addition to data.  The following routines are available
     for accessing the comment area of a binary SPK or CK file:

           <a href="spcac.html">SPCAC</a>           add comments

           <a href="spcec.html">SPCEC</a>           extract comments

           <a href="spcdc.html">SPCDC</a>           delete comments

           <b>SPCRFL</b>          read first line of comments

           <a href="spcrnl.html">SPCRNL</a>          read next line of comments

     Note that comments must consist of only text, that is, printable
     ASCII characters, specifically ASCII 32-126.  This excludes
     tabs (ASCII 9) and control characters.

     The SPC conversion routines---<a href="spcb2a.html">SPCB2A</a>, <a href="spca2b.html">SPCA2B</a>, <a href="spcb2t.html">SPCB2T</a>, and
     <a href="spct2b.html">SPCT2B</a>---include these comments when converting SPK and CK
     files between binary and text formats.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Suppose we have a binary SPK file called A.BSP.  The following
     code fragment searches the comment area for a lines containing
     the character string `SOURCE' and writes the lines to standard
     output.

      C
      C     Open the binary SPK file and get its handle.
      C
            CALL <a href="dafopr.html">DAFOPR</a> ( 'A.BSP', HANDLE )

      C
      C     Read the first line of comments.
      C
            CALL <b>SPCRFL</b> ( HANDLE, LINE, EOC )

      C
      C     Search for the string 'SOURCE' in the line.  If
      C     it is found, write the line.  Then get the next
      C     line of comments and repeat as long as we're not
      C     at the end.
      C
            DO WHILE ( .NOT. EOC )

               IF (  POS ( LINE, 'SOURCE', 1 ) .NE. 0  ) THEN
                  WRITE (*,*) LINE
               END IF

               CALL <a href="spcrnl.html">SPCRNL</a> ( LINE, EOC )

            END DO
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     1)  This routine assumes that the comment area of the binary SPK
         or CK file contains only text stored by <a href="spcac.html">SPCAC</a>.  Comments
         written any other way may not be handled properly.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     K.R. Gehringer (JPL)
     J.E. McLean    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 2.0.0, 16-NOV-2001 (FST)

        Updated this routine to utilize the new handle manager
        interfaces.

    SPICELIB Version 1.1.0, 27-JUL-1992 (KRG)

        Removed a call to the SPICELIB subroutine <a href="suffix.html">SUFFIX</a>() which
        was used to join two parts of a comment line that may be
        broken across two comment records. The problem was, <a href="suffix.html">SUFFIX</a>
        cannot know about leading/imbedded blanks when it appends, so
        blanks were inadvertantly removed when they happened to be
        stored at the end of comment record.

        Added the variable TMPLEN to record the length of the first
        part of a comment line that may be broken across comment
        records.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 15-APR-1991 (JEM)</PRE>
<h4>Link to routine SPCRFL source file <a href='../../../src/spicelib/spcrfl.f'>spcrfl.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:25:00 2014</pre>

</body>
</html>

