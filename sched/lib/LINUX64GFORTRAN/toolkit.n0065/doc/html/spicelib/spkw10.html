
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>spkw10</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>spkw10</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      SPKW10 (SPK - write a type 10 segment )
 
      SUBROUTINE SPKW10 ( HANDLE, BODY,   CENTER, FRAME,  FIRST, LAST,
     .                    SEGID,  CONSTS, N,      ELEMS,  EPOCHS      )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Write an SPK type 10 segment to the DAF open and attached to
     the input HANDLE.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
       SPK
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      IMPLICIT NONE
      INCLUDE              'sgparam.inc'
      INTEGER               HANDLE
      INTEGER               BODY
      INTEGER               CENTER
      CHARACTER*(*)         FRAME
      DOUBLE PRECISION      FIRST
      DOUBLE PRECISION      LAST
      CHARACTER*(*)         SEGID
      DOUBLE PRECISION      CONSTS ( * )
      INTEGER               N
      DOUBLE PRECISION      ELEMS  ( * )
      DOUBLE PRECISION      EPOCHS ( * )
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
      VARIABLE  I/O  DESCRIPTION
      --------  ---  --------------------------------------------------
      HANDLE     I   The handle of a DAF file open for writing.
      BODY       I   The NAIF ID code for the body of the segment.
      CENTER     I   The center of motion for BODY.
      FRAME      I   The reference frame for this segment.
      FIRST      I   The first epoch for which the segment is valid.
      LAST       I   The last  epoch for which the segment is valid.
      SEGID      I   The string to use for segment identifier.
      CONSTS     I   The array of geophysical constants for the segment
      N          I   The number of element/epoch pairs to be stored
      ELEMS      I   The collection of &quot;two-line&quot; element sets.
      EPOCHS     I   The epochs associated with the element sets.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE      is the file handle of an SPK file that has been
                 opened for writing by <a href="spcopn.html">SPCOPN</a>, <a href="dafopn.html">DAFOPN</a>, or <a href="dafopw.html">DAFOPW</a>.

     BODY        is the SPICE ID for the body whose states are
                 to be recorded in an SPK file.

     CENTER      is the SPICE ID for the center of motion associated
                 with BODY.

     FRAME       is the reference frame that states are referenced to,
                 for example 'J2000'.

     FIRST       are the bounds on the ephemeris times, expressed as
     LAST        seconds past J2000, for which the states can be used
                 to interpolate a state for BODY.

     SEGID       is the segment identifier. An SPK segment identifier
                 may contain up to 40 characters.

     CONSTS      are the geophysical constants needed for evaluation
                 of the two line elements sets.  The order of these
                 constants must be:

                 CONSTS(1) = J2 gravitational harmonic for earth
                 CONSTS(2) = J3 gravitational harmonic for earth
                 CONSTS(3) = J4 gravitational harmonic for earth
                 CONSTS(4) = Square root of the GM for earth where GM
                             is expressed in earth radii cubed per
                             minutes squared
                 CONSTS(5) = Equatorial radius of the earth in km
                 CONSTS(6) = Low altitude bound for atmospheric
                             model in km
                 CONSTS(7) = High altitude bound for atmospheric
                             model in km
                 CONSTS(8) = Distance units/earth radius (normally 1)

     N           is the number of &quot;two-line&quot; element sets  and epochs
                 to be stored in the segment.

     ELEMS       contains a time-ordered array of two-line elements
                 as supplied in NORAD two-line element files.  The
                 I'th set of elements should be stored as shown here:

                    BASE = (I-1)*10

                    ELEMS ( BASE + 1 )  = NDT20
                    ELEMS ( BASE + 2 )  = NDD60
                    ELEMS ( BASE + 3 )  = BSTAR
                    ELEMS ( BASE + 4 )  = INCL
                    ELEMS ( BASE + 5 )  = NODE0
                    ELEMS ( BASE + 6 )  = ECC
                    ELEMS ( BASE + 7 )  = OMEGA
                    ELEMS ( BASE + 8 )  = MO
                    ELEMS ( BASE + 9 )  = NO
                    ELEMS ( BASE + 10 ) = EPOCH

                 The meaning of these variables is defined by the
                 format of the two-line element files available from
                 NORAD

     EPOCHS      contains the epochs (ephemeris seconds past J2000)
                 corresponding to the elements in ELEMS.  The I'th
                 epoch must equal the epoch of the I'th element set
                 Epochs must form a strictly increasing sequence.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.       The data input is stored in an SPK segment in the
                 DAF connected to the input HANDLE.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) Errors in the structure or content of the inputs are
        diagnosed by routines called by this one.

     2) File access errors are diagnosed by routines in the
        call tree of this routine.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine writes a type 10 SPK segment to the DAF open
     for writing that is attached to HANDLE.  A routine, <a href="getelm.html">GETELM</a>, that
     reads two-line element data from files distributed by
     NORAD is available from NAIF.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Suppose that you have collected the two-line element data
     and geophysical constants as prescribed above.  The following
     code fragment demonstrates how you could go about creating
     a type 10 SPK segment.

        Open a new SPK file using DAF and get a file handle.

        BODY   = &lt;integer code for the body&gt;
        CENTER = &lt;integer code for central body for the trajectory&gt;
        FRAME  = 'J2000'
        SEGID  = &lt;string that gives the bodies name&gt;

        FNAME  = 'SAMPLE.SPK'
        ND     =  2
        NI     =  6
        IFNAME = 'SAMPLE SPK FILE FOR PRIVATE USE'
        RESV   =  0

        CALL <a href="dafonw.html">DAFONW</a> ( FNAME, 'SPK', ND, NI, IFNAME, RESV, HANDLE )


        Add the type 10 data.

        CALL <b>SPKW10</b> ( HANDLE, BODY,   CENTER, FRAME,  FIRST, LAST,
       .              SEGID,  CONSTS, N,      ELEMS,  EPOCHS      )

        Close the DAF properly.

        CALL <a href="dafcls.html">DAFCLS</a> ( HANDLE )
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
      W.L. Taber      (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.2, 2006-OCT-30 (BVS)

        Deleted &quot;inertial&quot; from the FRAME description in the Brief_I/O
        section of the header.

    SPICELIB Version 1.0.1, 1999-JUN-21 (WLT)

        Cleaned up the header.

    SPICELIB Version 1.0.0, 1994-JAN-5 (WLT)</PRE>
<h4>Link to routine SPKW10 source file <a href='../../../src/spicelib/spkw10.f'>spkw10.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:25:10 2014</pre>

</body>
</html>

