
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dafus</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dafus</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 DAFUS ( DAF, unpack summary )

      ENTRY DAFUS ( SUM, ND, NI, DC, IC )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Unpack an array summary into its double precision and integer
     components.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/daf.html">DAF</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     CONVERSION
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     DOUBLE PRECISION      SUM      ( * )
     INTEGER               ND
     INTEGER               NI
     DOUBLE PRECISION      DC       ( * )
     INTEGER               IC       ( * )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     SUM        I   Array summary.
     ND         I   Number of double precision components.
     NI         I   Number of integer components.
     DC         O   Double precision components.
     IC         O   Integer components.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     SUM         is an array summary. This identifies the contents and
                 location of a single array within a DAF.

     ND          is the number of double precision components in
                 the summary.

     NI          is the number of integer components in the summary.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     DC          are the double precision components of the summary.

     IC          are the integer components of the summary.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1) If ND is zero or negative, no double precision components
        are returned.

     2) If NI is zero or negative, no integer components are returned.

     3) If the total size of the summary is greater than 125 double
        precision words, some components may not be returned.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     The components of array summaries are packed into double
     precision arrays for reasons outlined in [1]. Two routines,
     <a href="dafps.html">DAFPS</a> (pack summary) and <b>DAFUS</b> (unpack summary) are provided
     for packing and unpacking summaries.

     The total size of the summary is

             (NI - 1)
        ND + -------- + 1
                 2

     double precision words (where ND, NI are nonnegative).
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Use a simple routine to output the double precision and integer
     values stored in an SPK's segments descriptors. This function
     opens a DAF for read, performs a forwards search for the DAF
     arrays, prints segments description for each array found, then
     closes the DAF.

           PROGRAM DAF_T

           INTEGER             HANDLE

     C
     C     Define the summary parameters appropriate
     C     for an SPK file.
     C
           INTEGER             ND
           PARAMETER         ( ND = 2 )

           INTEGER             NI
           PARAMETER         ( NI = 6 )

           INTEGER             IC( NI )

           DOUBLE PRECISION    DC( ND )

           CHARACTER*(32)      KERNEL

           LOGICAL             FOUND


     C
     C     Open a DAF for read. Return a HANDLE referring to the file.
     C
           KERNEL = 'de421.bsp'
           CALL <a href="dafopr.html">DAFOPR</a> ( KERNEL, HANDLE )

     C
     C     Begin a forward search on the file.
     C
           CALL <a href="dafbfs.html">DAFBFS</a> ( HANDLE )

     C
     C     Search until a DAF array is found.
     C
           CALL <a href="daffna.html">DAFFNA</a> ( FOUND )

     C
     C     Loop while the search finds subsequent DAF arrays.
     C
           DO WHILE ( FOUND )

              CALL <a href="dafgs.html">DAFGS</a> ( SUM )
              CALL <b>DAFUS</b> ( SUM, ND, NI, DC, IC )

              WRITE(*,*)                'Doubles: ', DC(1:ND)
              WRITE(*, FMT='(A,6I9)' ) 'Integers: ', IC(1:NI)

     C
     C        Check for another segment.
     C
              CALL <a href="daffna.html">DAFFNA</a> ( FOUND )

           END DO

     C
     C     Safely close the DAF.
     C
           CALL <a href="dafcls.html">DAFCLS</a> ( HANDLE )

           END

     The program outputs:

      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         1        0        1        2      641   310404
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         2        0        1        2   310405   423048
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         3        0        1        2   423049   567372
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         4        0        1        2   567373   628976
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         5        0        1        2   628977   674740
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         6        0        1        2   674741   715224
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         7        0        1        2   715225   750428
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         8        0        1        2   750429   785632
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:         9        0        1        2   785633   820836
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:        10        0        1        2   820837   944040
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:       301        3        1        2   944041  1521324
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:       399        3        1        2  1521325  2098608
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:       199        1        1        2  2098609  2098620
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:       299        2        1        2  2098621  2098632
      Doubles:   -3169195200.0000000        1696852800.0000000
     Integers:       499        4        1        2  2098633  2098644

      Note, the final entries in the integer array contains the segment
      start/end indexes. The output indicates the search proceeded
      from the start of the file (low value index) towards the end
      (high value index).
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     I.M. Underwood  (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.3, 10-OCT-2012 (EDW)

        Added a functional code example to the Examples section.

        Removed the obsolete Reference citation to &quot;NAIF
        Document 167.0.&quot;

        Corrected ordering of header section.

    SPICELIB Version 1.0.2, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.1, 22-MAR-1990 (HAN)

        Literature references added to the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (IMU)</PRE>
<h4>Link to routine DAFUS source file <a href='../../../src/spicelib/dafps.f'>dafps.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:06 2014</pre>

</body>
</html>

