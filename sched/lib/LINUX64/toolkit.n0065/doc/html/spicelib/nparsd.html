
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>nparsd</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>nparsd</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      NPARSD ( Double Precision parsing of a string )
 
      SUBROUTINE NPARSD ( STRING, X, ERROR, PTR )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Parse a character string that represents a number and return
     a double precision value.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
      ALPHANUMERIC
      CONVERSION
      PARSING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      CHARACTER*(*)    STRING
      DOUBLE PRECISION X
      CHARACTER*(*)    ERROR
      INTEGER          PTR
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  ---------------------------------------------------
     STRING     I   Character string representing a numeric value.
     X          O   Double precision value parsed from STRING.
     ERROR      O   Message indicating whether errors have occurred.
     PTR        O   Position in string where an error occurred.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     STRING     A character string that represents a numeric value.
                Commas and spaces may be used in this string for
                ease of reading and writing the number.  They
                are treated as insignificant but non-error-producing
                characters.

                For exponential representation the characters
                'E','D','e','d' may be used.

                The following are legitimate numeric expressions

                 +12.2 e-1
                 -3. 1415 9276
                 1e12
                 E10

                The program also recognizes the following  mnemonics
                '<a href="pi.html">PI</a>', 'pi', 'Pi', 'pI'
                '+<a href="pi.html">PI</a>', '+pi', '+Pi', '+pI'
                '-<a href="pi.html">PI</a>', '-pi', '-Pi', '-pI'
                and returns the value
                ( + OR - ) 3.1415 9265 3589 7932 3846 2600 D0 as
                appropriate.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     X          Double precision parsed value of input string. If an
                error is encountered, X is not changed.

     ERROR      is a message indicating that the string could
                not be parsed due to use of an unexpected or misplaced
                character or due to a string representing a number
                too large for double precision.  If the number was
                successfully parsed, ERROR will be returned as a blank.

                In particular, blank strings, or strings that do not
                contain either a digit or exponent character will
                be regarded as errors.

     PTR        This indicates which character was being used when
                the error occurred.  If no error occurs, PTR is
                returned as 0.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1) If the string is non-numeric, PTR indicates the location in
        the string where the error occurred, and ERROR contains a
        descriptive error message.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine parses an input character string that represents a
     number, checks for overflow, unexpected or misplaced
     characters.  It returns the double precision number or an error
     message.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Let   LINE = 'DELTA_T_A       =   32.184'

     The following code fragment parses the line and obtains the
     double precision value.


        CALL <a href="nextwd.html">NEXTWD</a> ( LINE,  FIRST,  REST )
        CALL <a href="nextwd.html">NEXTWD</a> ( REST, SECOND,  REST )
        CALL <a href="nextwd.html">NEXTWD</a> ( REST,  THIRD,  REST )

        CALL <b>NPARSD</b> (  THIRD,  VALUE, ERROR, PTR    )
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     Due to rounding errors this routine may not be able to parse
     the decimal character string representation of the largest
     and smallest double precision numbers.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman    (JPL)
     K.R. Gehringer  (JPL)
     H.A. Neilan     (JPL)
     W.L. Taber      (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 3.5.0, 15-AUG-2002 (WLT)

        Replaced the call to <a href="inssub.html">INSSUB</a> with a call to ZZINSSUB so
        that this routine can legitimately call itself Error Free

    SPICELIB Version 3.4.0, 3-DEC-2001

        Added an extra check to make sure that ICHAR of any character
        of the input string is positive.

    SPICELIB Version 3.3.0, 29-FEB-1996 (KRG)

        The declaration for the SPICELIB function <a href="pi.html">PI</a> is now
        preceded by an EXTERNAL statement declaring <a href="pi.html">PI</a> to be an 
        external function. This removes a conflict with any
        compilers that have a <a href="pi.html">PI</a> intrinsic function.

        Removed the error message and storage for the unexpected
        comma error message. This variable was set but never used,
        and according to the spec for this routine a comma is a valid 
        delimiter, treated like a space, within numbers.

    SPICELIB Version 3.2.0, 10-JAN-1995 (WLT)

        Changed error strings from parameters to assignments to
        compensate for shortcomings of the Absoft FORTRAN compiler
        on the NeXT.

    SPICELIB Version 3.1.0, 12-JUL-1994 (WLT)

        The previous version of the routine assumed that the range
        of values of ICHAR was 0 to 128.  That turns out not to be
        true on some machines.  If a character whose ICHAR value is
        outside this range is detected, it is now handled properly
        as an unexpected character.

    SPICELIB Version 3.0.0, 24-FEB-1993 (WLT)

        The previous version of the algorithm interpreted P or p as 1.
        This was not the intent of the routine and was corrected.

    SPICELIB Version 2.0.0, 28-AUG-1992 (WLT) (KRG)

        The basic algorithm was completely re-written.  As a result
        the routine now runs an order of magnitude faster than
        it did before.  In addition, strings that do not contain
        enough information to assign a value to the string are now
        regarded as errors.  These include blank strings or strings
        that contain only a sign characters, blanks and commas.

        In addition the error diagnosis and checking for overflow
        was greatly enhanced.

        Note: strings may now parse with slightly different values
        from the previous version of <b>NPARSD</b>.  The current
        implementation is more accurate in converting strings to
        double precision numbers.

    SPICELIB Version 1.1.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.1.0, 17-APR-1990 (WLT)

        Bug fix.  The subscript used to reference individual characters
        of the input string could sometimes step out of bounds.  This
        went unnoticed until NAIF began compiling with the CHECK=BOUNDS
        option of the DEC Fortran compiler.


    SPICELIB Version 1.0.0, 31-JAN-1990 (WLT)</PRE>
<h4>Link to routine NPARSD source file <a href='../../../src/spicelib/nparsd.f'>nparsd.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:40 2014</pre>

</body>
</html>

