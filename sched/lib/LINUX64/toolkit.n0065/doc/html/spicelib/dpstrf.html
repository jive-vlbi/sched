
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dpstrf</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dpstrf</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      DPSTRF ( Double Precision Number to Character )
 
      SUBROUTINE DPSTRF ( X, SIGDIG, FORMAT, STRING )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Take a double precision number and convert it to an
     equivalent formatted character string representation (base 10).
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
      CHARACTER
      CONVERSION
      PARSING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      IMPLICIT NONE
      DOUBLE PRECISION      X
      INTEGER               SIGDIG
      CHARACTER*1           FORMAT
      CHARACTER*(*)         STRING
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
      VARIABLE  I/O  DESCRIPTION
      --------  ---  --------------------------------------------------
      X          I   A double precision number
      SIGDIG     I   The number of significant digits saved for output
      FORMAT     I   'E' for scientific, 'F' for floating point.
      STRING     O   A character string representation of X
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
      X          is a double precision number.

      SIGDIG     is the number of significant digits that are desired
                 for the output string.

      FORMAT     is a character flag that indicates how the double
                 precision number should be represented.  The two
                 acceptable inputs are 'E' and 'F'.  If the input
                 is 'E' then the number will be displayed with an
                 exponent in scientific notation. It will have the
                 form 'sx.xxx - - - xxxxxEsyy' where there are 
                 SIGDIG x's and s is ' ' or '-' at its first occurrence
                 and '-' or '+' in the second.

                 If the input is 'F' then the number will be
                 displayed without an exponent --- the representation
                 will be strictly decimal.  The first symbol will be
                 a sign ('-' or ' ').
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
      STRING     is a character representation of X to the number of
                 significant digits specified by SIGDIG.  The number of
                 spaces required to return the requested character
                 string is SIGDIG + 6.  If STRING is not declared to
                 have adequate length, the number returned will be
                 truncated on the right.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
      Error free.

      If SIGDIG is less than one, this routine returns one significant
      digit in the output string.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
      This routine computes an approximate character representation
      of the input string X. The maximum number of significant
      digits returned is 14 (in F format there may be many extra
      zeros returned but only a maximum of 14 digits will be
      significant.

      The output string is left justified.

      This routine has the advantage that it does not use an internal
      file and is about twice as fast as an internal write. It can
      be used as part of character function without fear of introducing
      recursive I/O conflicts. It is intended to be an approximate
      inverse to the subroutine <a href="nparsd.html">NPARSD</a>.

      IF you want the character string representation of a double
      precision number to be the same as that produced by a formatted
      write statement use a FORTRAN write statement.

      For example the number represented by the string

            1.245454545454545454545E+01

      when read (via a FORTRAN READ statement) into the DP variable X
      and converted back to a character string having 14 significant
      digits by this routine yields

            1.2454545454545E+01  in E format
            12.454545454545      in F format

      The FORTRAN write statement

            WRITE ( 6, FMT='(P1E)' ) X

      yields

            1.2454545454545454E+01

      If this is too much error for your application DO NOT use this
      routine.  You should be aware however, that a character string
      read into a double precision number may not WRITE out with an
      equivalent character representation as was input.

      For example on a VAX 11/780 if you

            READ  (5,*)         X
            WRITE (6,FMT='(E)') X

      and enter a value of 7.00000001 for the read statement
      the output written will be 0.7000000010000001E+01
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
      Suppose that you wished to insert the character representation
      of some DOUBLE PRECISION number into a line of text.

      For example suppose X contains the double precision number
      4.268176872928187 and you would like to insert the character
      representation of this number to 2 places between the strings

      'There are', 'meters between lamp posts'

      You could perform the following sequence of steps


            DOUBLE PRECISION  X
            CHARACTER*5       DISTANCE
            CHARACTER*80      MESSAGE

            CALL <b>DPSTRF</b> ( X, 2, 'F', DISTANCE )

            MESSAGE = 'There are '                //
           .           DISTANCE                   //
           .          'meters between lamp posts'
           .

      C
      C     Squeeze any extra spaces out of the message string.
      C
            CALL <a href="cmprss.html">CMPRSS</a> ( ' ', 1, MESSAGE, MESSAGE )



      The string MESSAGE would contain:

           'There are 4.2 meters between lamp posts'
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
      The maximum number of significant digits returned is 14.

      If the output string is not declared to be adequately large
      the numeric string will be truncated to the side opposite its
      justification (At least SIGDIG + 6 characters are needed in E
      format, in F format the size required is dependent upon the
      input X and the number of significant digits requested.
      In extreme cases up to 56 characters may be required.)

      This routine makes explicit use of the format of the string
      returned by <a href="dpstr.html">DPSTR</a>,  should that routine change, substantial
      work may be required to bring this routine back up to snuff.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
      None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
      W.L. Taber      (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
     SPICELIB Version 1.2.0, 17-SEP-1996 (WLT)

         Upgraded routine to handle arbitrary magnitude d.p. numbers.

     SPICELIB Version 1.1.1, 10-MAR-1992 (WLT)

         Comment section for permuted index source lines was added
         following the header.

     SPICELIB Version 1.1.0, 30-JUL-1990 (WLT)

         The routine was repaired so that references to zero-length
         strings ( for example STRING(4:3) ) are not made.

     SPICELIB Version 1.0.0, 31-JAN-1990 (WLT)</PRE>
<h4>Link to routine DPSTRF source file <a href='../../../src/spicelib/dpstrf.f'>dpstrf.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:12 2014</pre>

</body>
</html>

