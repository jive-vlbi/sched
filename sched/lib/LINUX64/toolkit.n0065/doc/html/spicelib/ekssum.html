
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>ekssum</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>ekssum</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
      EKSSUM ( EK, return segment summary )
 
      SUBROUTINE EKSSUM (  HANDLE,  SEGNO,   TABNAM,  NROWS,
     .                     NCOLS,   CNAMES,  DTYPES,  SIZES,
     .                     STRLNS,  INDEXD,  NULLOK          )
      
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return summary information for a specified segment in a
     specified EK.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ek.html">EK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     EK
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
 
      INCLUDE 'ekbool.inc'
      INCLUDE 'ekcoldsc.inc'
      INCLUDE 'ekglimit.inc'
      INCLUDE 'eksegdsc.inc'
      INCLUDE 'ektype.inc'
 
      INTEGER               HANDLE
      INTEGER               SEGNO
      CHARACTER*(*)         TABNAM
      INTEGER               NROWS
      INTEGER               NCOLS
      CHARACTER*(*)         CNAMES ( * )
      CHARACTER*(*)         DTYPES ( * )
      INTEGER               SIZES  ( * )
      INTEGER               STRLNS ( * )
      LOGICAL               INDEXD ( * )
      LOGICAL               NULLOK ( * )
 
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   Handle of EK.
     SEGNO      I   Number of segment to be summarized.
     TABNAM     O   Name of table containing segment.
     NROWS      O   Number of rows in segment.
     NCOLS      O   Number of columns in segment.
     CNAMES     O   Names of columns in segment.
     DTYPES     O   Data types of columns in segment.
     SIZES      O   Entry sizes of columns in segment.
     STRLNS     O   String lengths of columns in segment.
     INDEXD     O   Flags indicating whether columns are indexed.
     NULLOK     O   Flags indicating whether columns allow nulls.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE         is an EK file handle specifying the EK containing
                    the segment to be summarized.

     SEGNO          is the number of the segment whose summary is
                    desired.  Segments are numbered from 1 to NSEG,
                    where NSEG is the count of segments in the file.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     TABNAM         is the name of the table to which the segment
                    belongs.

     NROWS          is the number of rows in the segment.

     NCOLS          is the number of columns in the segment.  The
                    maximum number of columns in a segment is given
                    by the parameter MXCLSG, which is defined in the
                    include file

                       ekglimit.inc.

                    Currently, this limit is set at 100 columns.

     CNAMES         is an array of names of columns in the segment.

     DTYPES         is an array of data types of columns in the
                    segment.  Each data type is indicated by a short
                    character string.  The strings and their meanings
                    are:

                       'CHR'       Character type.
                       'DP'        Double precision type.
                       'INT'       Integer type.
                       'TIME'      Time type.

                    The Ith element of DTYPES corresponds to the
                    column whose name is the Ith element of CNAMES.

     SIZES          is an array of declared sizes of column entries.
                    The Ith element of SIZES is the declared size of
                    the column whose name is the Ith element of CNAMES.
                    Scalar-valued columns have size 1; fixed-size,
                    array-valued columns have size greater than 1.
                    Array valued columns of variable size have a size
                    value of -1.

     STRLNS         is an array of declared string lengths of
                    character column entries.  These lengths are
                    defined only for columns of character type.
                    The Ith element of SIZES is the declared size of
                    the column whose name is the Ith element of CNAMES,
                    if that column has character type; otherwise, the
                    Ith element of STRLNS is undefined.  For
                    character columns having variable string length,
                    the returned value of STRLNS is -1.

     INDEXD         is an array of logical flags indicating whether the
                    corresponding columns are indexed.  The Ith element
                    of INDEXD applies to the column whose name is the
                    Ith element of CNAMES.

     NULLOK         is an array of logical flags indicating whether the
                    corresponding columns allow null values.  The Ith
                    element of NULLOK applies to the column whose name
                    is the Ith element of CNAMES.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If HANDLE is invalid, the error will be diagnosed by routines
         called by this routine.  The output arguments will not be
         modified.

     2)  If SEGNO is not the index of an existing segment in the
         specified file, the error SPICE(INDEXOUTOFRANGE) will be
         signalled.  The output arguments will not be modified.

     3)  If an I/O error occurs while attempting to obtain summary
         information for the specified segment, the error will be
         diagnosed by routines called by this routine.  The output
         arguments may be modified in this case.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See the description of HANDLE in $Detailed_Input.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine supports the function of summarizing a binary
     EK file, allowing NAIF Toolkit users to determine whether it
     contains data of interest.  The routine also also provides
     address information necessary to retrieve information from the
     segment.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     1)  Dump the table and column names of the segments in an EK.

            C
            C     Open the EK for read access and get the number of
            C     segments it contains.
            C
                  CALL <a href="ekopr.html">EKOPR</a> ( EKNAME, HANDLE )

                  NSEG = <a href="eknseg.html">EKNSEG</a> ( HANDLE )

            C
            C     Loop through the segments, dumping the desired
            C     summary information for each one.
            C
                  WRITE (*,*) ' '
                  WRITE (*,*) ' '
                  WRITE (*,*) 'Segment summary for file ', EKNAME
                  WRITE (*,*) ' '
                  WRITE (*,*) ' '

                  DO I = 1, NSEG

                     CALL <b>EKSSUM</b> (  HANDLE,  SEGNO,   TABNAM,  NROWS,
                 .                  NCOLS,   CNAMES,  DTYPES,  SIZES,
                 .                  STRLNS,  INDEXD,  NULLOK         )

                     WRITE (*,*)
                 .   '========================================'      //
                 .   '========================================'


                     WRITE (*,*) 'Table containing segment: ', TABNAM

                     WRITE (*,*) ' '
                     WRITE (*,*) 'Number of rows:     ', NROWS
                     WRITE (*,*) 'Number of columns:  ', NCOLS
                     WRITE (*,*) ' '
                     WRITE (*,*) 'Column names and attributes: '
                     WRITE (*,*) ' '

                     DO J = 1, NCOLS

                        WRITE (*,*) 'Column:   '//CNAMES(J)
                        WRITE (*,*) ' '
                        WRITE (*,*) 'Data type: ', DTYPES(J)
                        WRITE (*,*) 'Dimension: ', SIZES(J)

                        IF ( DTYPES(J) .EQ. 'CHR' ) THEN
                           WRITE (*,*) 'String length: ', STRLNS(J)
                        END IF

                        IF ( INDEXD(J) ) THEN
                           WRITE (*,*) 'Indexed'
                        END IF

                        IF ( NULLOK(J) ) THEN
                           WRITE (*,*) 'Nulls allowed'
                        ELSE
                           WRITE (*,*) 'Nulls not allowed'
                        END IF

                        WRITE (*,*) ' '
                     END DO

                     WRITE (*,*)
                 .   '========================================'      //
                 .   '========================================'

                  END DO

                  END
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman   (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 07-JUL-1996 (NJB)

        Bug fix:  correct parameter is now used to set dimension
        of local variable SEGDSC.

    Beta Version 1.0.0, 26-SEP-1995 (NJB)</PRE>
<h4>Link to routine EKSSUM source file <a href='../../../src/spicelib/ekssum.f'>ekssum.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Tue Jul 15 14:24:17 2014</pre>

</body>
</html>

