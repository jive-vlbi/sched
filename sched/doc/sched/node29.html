<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002 (1.62) JA patch-1.4
patched version by:  Kenshi Muto, Debian Project.
LaTeX2HTML 2002 (1.62),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Recording Systems History and Background</TITLE>
<META NAME="description" CONTENT="Recording Systems History and Background">
<META NAME="keywords" CONTENT="sched">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002 JA patch-1.4">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sched.css">

<LINK REL="next" HREF="node30.html">
<LINK REL="previous" HREF="node28.html">
<LINK REL="up" HREF="node28.html">
<LINK REL="next" HREF="node30.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html622"
  HREF="node30.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html618"
  HREF="node28.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html612"
  HREF="node28.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html620"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html623"
  HREF="node30.html">MARK5 and EVLBI</A>
<B> Up:</B> <A NAME="tex2html619"
  HREF="node28.html">Recording Systems.</A>
<B> Previous:</B> <A NAME="tex2html613"
  HREF="node28.html">Recording Systems.</A>
 &nbsp <B>  <A NAME="tex2html621"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00331000000000000000"></A><A NAME="SSEC:RECBAK"></A>
<BR>
Recording Systems History and Background
</H2>

<P>
SCHED&nbsp; was originally written as the scheduling program for global
VLBI observations using the Mark II recording system.  That was a
system capable of recording 4 Mbps on video tape recorders.  As of Feb
2003, I have learned that Mark II is still in occasional use in some
parts of the world, so it is not yet removed from SCHED.  However
any users should be warned that the Mark II capabilities are no longer
maintained and tested.

<P>
The wide band recording system in use for VLBI for many years was
the Mark&nbsp;III system.  SCHED&nbsp; was never a general purpose scheduling
program for Mark&nbsp;III observations.  Programs SKED and PC-SCHED
served that role.  However, SCHED&nbsp; was capable of scheduling Mark&nbsp;III
observations on systems that used the VLBA control files (VLBA, VLA, and
Green Bank).  In fact, the output of SKED and PC-SCHED was
normally processed through SCHED&nbsp; to produce the telescope control files
for these antennas for all except geodetic projects.  Mark&nbsp;III is also
obsolete, although one Mark&nbsp;III schedule is still in the SCHED&nbsp; test
suite.  I am not aware of any Mark&nbsp;III systems remaining in use, although,
after what happened when I tried to remove Mark II, I don't plan on
trying to remove the option.

<P>
The Mark&nbsp;III system was replaced by several other systems with greater
capabilities.  These include the VLBA, VLBA4, Mark&nbsp;IV, S2, and K4 tape
systems.  There are correlators associated with each system, and there
is a considerable amount of cross compatibility, either directly or
through the use of translation machines.  The Mark&nbsp;III, VLBA, VLBA4,
and Mark&nbsp;IV systems all use the same tape transport, although with
different electronics.  In their native modes, they use different data
formats, but the VLBA and Mark&nbsp;IV systems are capable of reading and
writing Mark&nbsp;III data.  More importantly, the VLBA and Mark&nbsp;IV systems
have a wide range of compatible recording modes that can be correlated
together on the VLBA, JIVE, and other correlators.

<P>
As of 2003, the tape systems are starting to be replaced by disk based
recording systems.  The main contenders were MARK5 and PCEVN, with
MARK5 having been selected for most use.  There will be two flavors of
MARK5 (!).  MARK5A is close to a plug compatible replacement for VLBA
and MarkIV tape drives.  The data formats are not changed -- the old
formatters are still used.  MARK5B will be a VSI (VLBI Standard
Interface) compliant system that will accept signals that are
basically just sampler output.  MARK5A deployment is underway in early
2003 and that may be all that is done for many stations.  The VLBA
will go to MARK5B as quickly as possible because only that allows the
VLBA systems to record 1024 Mbps -- the formatter can't handle more
than 512 Mbps.  The Mark&nbsp;IV formatters can handle 1024 Mbps.

<P>
This profusion of recording systems is further complicated by the the
possibility of mixing elements of the different systems.  There are
three elements of each system that must be specified in order to make
proper schedules.  These are specified in the SCHED&nbsp; <A HREF="node210.html#SEC:STACAT">station
catalog</A> with the paramters <TT>CONTROL</TT>, <TT>DAR</TT>, <TT>RECORDER</TT> and <TT>DISK</TT>.  The first element is the control system --
what software (and hardware) is used to control the recording system.
The options that SCHED&nbsp; can handle for wide band VLBI observations
are VLBA and VEX.  Formally, these actually refer to the control file
type, although each type currently implies a specific computer and
software system.  Note that the <TT>CONTROL</TT> variable has other
options, but they imply one of the above two, plus some specific other
telescope control files.

<P>
The VLBA control system runs on VME computers using software mainly
written for the VLBA.  A few other sites (VLA, Green Bank, and one of
the systems at Effelsberg) have such systems to control their VLBI
hardware.  Systems controlled by the VLBA software always consist of
VLBA data aquisition racks (DAR -- BBCs, formatter etc) and VLBA tape
recorder(s) or Mark5 disks.

<P>
The VEX option for <TT>CONTROL</TT> causes SCHED&nbsp; to generate a schedule
file in the VEX format, as does the <A HREF="node82.html#MP:DOVEX"><TT>DOVEX</TT></A>
main schedule input parameter.  This is the schedule distribution file
format developed mainly for the PC Field System (PCFS) and the Mark&nbsp;IV
correlators, although it could be used by other systems.  The PCFS,
running on Linux PCs, is used to control VLBA, VLBA4, Mark&nbsp;IV, S2, and
MARK5 VLBI hardware at many non-VLBA stations including all of the
EVN.  It is the descendent of, and replacement for, the control system
for Mark&nbsp;III systems.  Sometimes this system is refered to as FS9, for
``Field System 9'', refering to the earliest version that could handle
VEX input.

<P>
Systems controlled by the PCFS can consist of a VLBA, VLBA4 or Mark&nbsp;IV
DAR connected to a VLBA4, VLBA, Mark&nbsp;IV, S2, or Mark5 recorder.  Each
combination has slightly different capabilities and requirements.
SCHED&nbsp; understands a considerable amount about what these
capabilities and requirements are and attempts to insure that the
requested observations are possible.  However, when doing a large
observation with many diverse telescopes, it is best to stick to
standard, well tested, observing modes and using the frequencies
selected using the setup file parameter <A HREF="node232.html#SP:BAND"><TT>BAND</TT></A>.
The PCFS is also used to control systems consisting of a Mark&nbsp;III DAR
and Mark&nbsp;III recorder.  However VEX files cannot be used to control
such systems and, hence, they cannot be scheduled with SCHED.

<P>
To further complicate things, the Japanese systems, both on the ground
and for the VSOP satellite, have been designed to use the Mark&nbsp;III
``.drg'' file as input.  Hooks have been provided in SCHED&nbsp; to allow
software to be added to produce such files, but such software has not
yet been written.

<P>
During the transition from VLBA or Mark&nbsp;IV systems to MARK5, it may
not be obvious when the schedules are made which a station will have.
Or stations may have both and want to run observations on one or the
other depending on the supply of media.  Because of this situation, a
separate input, called <TT>DISK</TT> can be specified in addition
to <TT>RECORDER</TT> in the station catalog.  It tells SCHED&nbsp; that the
station has a disk system and schedules can be made for it.  There is
another new parameter, <TT>MEDIADEF</TT>, which can be <TT>TAPE</TT> or <TT>DISK</TT>, that can be used to set the default medium for the station
while both are available.  The <TT>MEDIA</TT> parameter in the
<A HREF="node192.html#MP:TAPEINI"><TT>TAPEINI</TT></A> section can be used to override
the default.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html622"
  HREF="node30.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html618"
  HREF="node28.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html612"
  HREF="node28.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html620"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html623"
  HREF="node30.html">MARK5 and EVLBI</A>
<B> Up:</B> <A NAME="tex2html619"
  HREF="node28.html">Recording Systems.</A>
<B> Previous:</B> <A NAME="tex2html613"
  HREF="node28.html">Recording Systems.</A>
 &nbsp <B>  <A NAME="tex2html621"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Craig Walker
2006-02-10
</ADDRESS>
</BODY>
</HTML>
